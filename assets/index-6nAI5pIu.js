var lr=Object.defineProperty;var ur=(n,e,t)=>e in n?lr(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var gt=(n,e,t)=>ur(n,typeof e!="symbol"?e+"":e,t);import{r as fs,g as Ar,R as Ne,a as F,b as pr,c as Et,d as fr,j as g}from"./index-DbFWPETq.js";import{T as dr,c as Br,a as Dt,b as hr,d as Cr,g as ds,e as Bs,f as hs,u as Cs,s as Ot,h as ms,m as An,i as gs,V as re,j as lt,R as mr,k as gr,l as zt,n as Es,L as vs,o as ot,F as yt,M as ae,p as Rs,C as Ge,S as Er,P as vr,D as Rr,q as It,I as Mr,Q as Ms,r as Fr,O as Fs,t as br,v as Gr,B as it,w as Tr,x as bs,N as Dr,y as yr,z as Ir,A as Gs,E as xr,G as $t,H as Hr,J as Or,K as wr,U as Ut,W as Sr,X as pn,Y as Lr,Z as nt,_ as Jr,$ as Ts,a0 as Pr,a1 as Ds,a2 as Nr,a3 as Ur,a4 as Kr,a5 as kr,a6 as Kt,a7 as jr,a8 as fn,a9 as _r,aa as Qr,ab as Xr,ac as Yr,ad as Wr,ae as ys,af as Zr,ag as Dn,ah as yn,ai as In,aj as xn,ak as Vr,al as qr,am as zr,an as $r,ao as dn,ap as Bn,aq as eo,ar as to,as as no,at as so}from"./useCursorPointer-CEhfYGYX.js";const se=[{threshold:1e3,color:"#DC2626"},{threshold:500,color:"#EA580C"},{threshold:200,color:"#F59E0B"},{threshold:100,color:"#EAB308"},{threshold:10,color:"#84CC16"},{threshold:0,color:"#16A34A"}];function hn(n){return n==="Bà Rịa – Vũng Tàu"?"Vung_Tau":n==="TP. Hồ Chí Minh"?"Ho_Chi_Minh":n.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/đ/g,"d").replace(/Đ/g,"D").replace(/ /g,"_")}const ro=(n,e)=>e.provinces.find(r=>hn(r.name)===n),oo=(n,e)=>e.dailyReports.find(r=>r.provinceID===(n==null?void 0:n.id)),Cn=n=>n?n.replace(/_/g," "):"";function io(n){var t;if(!n)return"#F3F4F6";const e=n.casesInfected;return((t=se.find(({threshold:r})=>e>r))==null?void 0:t.color)||"#16A34A"}const en=({data:n,pageSize:e=0,ascending:t=!1})=>{const r=e===0?n.provinces.length:e;return n.provinces.map(s=>{const o=n.dailyReports.find(i=>i.provinceID===s.id);return{name:s.name,cases:(o==null?void 0:o.casesInfected)||0,deaths:(o==null?void 0:o.casesDeaths)||0,recovered:(o==null?void 0:o.casesRecovered)||0}}).sort((s,o)=>t?s.cases-o.cases:o.cases-s.cases).slice(0,r)},ao={},Hn=n=>{let e;const t=new Set,r=(u,A)=>{const p=typeof u=="function"?u(e):u;if(!Object.is(p,e)){const f=e;e=A??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(d=>d(e,f))}},s=()=>e,c={setState:r,getState:s,getInitialState:()=>l,subscribe:u=>(t.add(u),()=>t.delete(u)),destroy:()=>{(ao?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},l=e=n(r,s,c);return c},co=n=>n?Hn(n):Hn;var kt={exports:{}},jt={},_t={exports:{}},Qt={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var On;function lo(){if(On)return Qt;On=1;var n=fs();function e(A,p){return A===p&&(A!==0||1/A===1/p)||A!==A&&p!==p}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,s=n.useEffect,o=n.useLayoutEffect,i=n.useDebugValue;function a(A,p){var f=p(),d=r({inst:{value:f,getSnapshot:p}}),B=d[0].inst,h=d[1];return o(function(){B.value=f,B.getSnapshot=p,c(B)&&h({inst:B})},[A,f,p]),s(function(){return c(B)&&h({inst:B}),A(function(){c(B)&&h({inst:B})})},[A]),i(f),f}function c(A){var p=A.getSnapshot;A=A.value;try{var f=p();return!t(A,f)}catch{return!0}}function l(A,p){return p()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:a;return Qt.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:u,Qt}var wn;function uo(){return wn||(wn=1,_t.exports=lo()),_t.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sn;function Ao(){if(Sn)return jt;Sn=1;var n=fs(),e=uo();function t(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var r=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,o=n.useRef,i=n.useEffect,a=n.useMemo,c=n.useDebugValue;return jt.useSyncExternalStoreWithSelector=function(l,u,A,p,f){var d=o(null);if(d.current===null){var B={hasValue:!1,value:null};d.current=B}else B=d.current;d=a(function(){function m(R){if(!v){if(v=!0,E=R,R=p(R),f!==void 0&&B.hasValue){var b=B.value;if(f(b,R))return C=b}return C=R}if(b=C,r(E,R))return b;var I=p(R);return f!==void 0&&f(b,I)?(E=R,b):(E=R,C=I)}var v=!1,E,C,M=A===void 0?null:A;return[function(){return m(u())},M===null?void 0:function(){return m(M())}]},[u,A,p,f]);var h=s(l,d[0],d[1]);return i(function(){B.hasValue=!0,B.value=h},[h]),c(h),h},jt}var Ln;function po(){return Ln||(Ln=1,kt.exports=Ao()),kt.exports}var fo=po();const Bo=Ar(fo),Is={},{useDebugValue:ho}=Ne,{useSyncExternalStoreWithSelector:Co}=Bo;let Jn=!1;const mo=n=>n;function go(n,e=mo,t){(Is?"production":void 0)!=="production"&&t&&!Jn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Jn=!0);const r=Co(n.subscribe,n.getState,n.getServerState||n.getInitialState,e,t);return ho(r),r}const Pn=n=>{(Is?"production":void 0)!=="production"&&typeof n!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof n=="function"?co(n):n,t=(r,s)=>go(e,r,s);return Object.assign(t,e),t},xs=n=>n?Pn(n):Pn,Hs=xs(n=>({activeFilter:null,setActiveFilter:e=>n({activeFilter:e})}));function Eo(n){return Object.keys(n).length===0}function vo(n=null){const e=F.useContext(dr);return!e||Eo(e)?n:e}const Ro=Br();function Mo(n=Ro){return vo(n)}const ut=typeof window<"u"?F.useLayoutEffect:F.useEffect;function Nn(n){return n&&n.ownerDocument||document}function Un(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let Kn=0;function Fo(n){const[e,t]=F.useState(n),r=n||e;return F.useEffect(()=>{e==null&&(Kn+=1,t(`mui-${Kn}`))},[e]),r}const bo={...pr},kn=bo.useId;function Go(n){if(kn!==void 0){const e=kn();return n??e}return Fo(n)}function To({controlled:n,default:e,name:t,state:r="value"}){const{current:s}=F.useRef(n!==void 0),[o,i]=F.useState(e),a=s?n:o,c=F.useCallback(l=>{s||i(l)},[]);return[a,c]}function jn(n){const e=F.useRef(n);return ut(()=>{e.current=n}),F.useRef((...t)=>(0,e.current)(...t)).current}function Te(...n){const e=F.useRef(void 0),t=F.useCallback(r=>{const s=n.map(o=>{if(o==null)return null;if(typeof o=="function"){const i=o,a=i(r);return typeof a=="function"?a:()=>{i(null)}}return o.current=r,()=>{o.current=null}});return()=>{s.forEach(o=>o==null?void 0:o())}},n);return F.useMemo(()=>n.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=t(r))},n)}const _n={};function Do(n,e){const t=F.useRef(_n);return t.current===_n&&(t.current=n(e)),t}const yo=[];function Io(n){F.useEffect(n,yo)}class wt{constructor(){gt(this,"currentId",null);gt(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});gt(this,"disposeEffect",()=>this.clear)}static create(){return new wt}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function st(){const n=Do(wt.create).current;return Io(n.disposeEffect),n}function Qn(n){try{return n.matches(":focus-visible")}catch{}return!1}function xo(n){return typeof n=="string"}function Os(n,e,t){return n===void 0||xo(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function Ho(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function Xn(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function ws(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:s,className:o}=n;if(!e){const f=Dt(t==null?void 0:t.className,o,s==null?void 0:s.className,r==null?void 0:r.className),d={...t==null?void 0:t.style,...s==null?void 0:s.style,...r==null?void 0:r.style},B={...t,...s,...r};return f.length>0&&(B.className=f),Object.keys(d).length>0&&(B.style=d),{props:B,internalRef:void 0}}const i=Ho({...s,...r}),a=Xn(r),c=Xn(s),l=e(i),u=Dt(l==null?void 0:l.className,t==null?void 0:t.className,o,s==null?void 0:s.className,r==null?void 0:r.className),A={...l==null?void 0:l.style,...t==null?void 0:t.style,...s==null?void 0:s.style,...r==null?void 0:r.style},p={...l,...t,...c,...a};return u.length>0&&(p.className=u),Object.keys(A).length>0&&(p.style=A),{props:p,internalRef:l.ref}}function Ss(n,e,t){return typeof n=="function"?n(e,t):n}function Oo(n){var A;const{elementType:e,externalSlotProps:t,ownerState:r,skipResolvingSlotProps:s=!1,...o}=n,i=s?{}:Ss(t,r),{props:a,internalRef:c}=ws({...o,externalSlotProps:i}),l=Te(c,i==null?void 0:i.ref,(A=n.additionalProps)==null?void 0:A.ref);return Os(e,{...a,ref:l},r)}function mn(n){var e;return parseInt(F.version,10)>=19?((e=n==null?void 0:n.props)==null?void 0:e.ref)||null:(n==null?void 0:n.ref)||null}const wo=F.createContext(),Ls=()=>F.useContext(wo)??!1;function Js(){const n=Mo(Cr);return n[hr]||n}function So(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function tn(n,e){return tn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},tn(n,e)}function Lo(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,tn(n,e)}const Yn={disabled:!1},Ps=Ne.createContext(null);var Jo=function(e){return e.scrollTop},rt="unmounted",Re="exited",Me="entering",Pe="entered",nn="exiting",pe=function(n){Lo(e,n);function e(r,s){var o;o=n.call(this,r,s)||this;var i=s,a=i&&!i.isMounting?r.enter:r.appear,c;return o.appearStatus=null,r.in?a?(c=Re,o.appearStatus=Me):c=Pe:r.unmountOnExit||r.mountOnEnter?c=rt:c=Re,o.state={status:c},o.nextCallback=null,o}e.getDerivedStateFromProps=function(s,o){var i=s.in;return i&&o.status===rt?{status:Re}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(s){var o=null;if(s!==this.props){var i=this.state.status;this.props.in?i!==Me&&i!==Pe&&(o=Me):(i===Me||i===Pe)&&(o=nn)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var s=this.props.timeout,o,i,a;return o=i=a=s,s!=null&&typeof s!="number"&&(o=s.exit,i=s.enter,a=s.appear!==void 0?s.appear:i),{exit:o,enter:i,appear:a}},t.updateStatus=function(s,o){if(s===void 0&&(s=!1),o!==null)if(this.cancelNextCallback(),o===Me){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:Et.findDOMNode(this);i&&Jo(i)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Re&&this.setState({status:rt})},t.performEnter=function(s){var o=this,i=this.props.enter,a=this.context?this.context.isMounting:s,c=this.props.nodeRef?[a]:[Et.findDOMNode(this),a],l=c[0],u=c[1],A=this.getTimeouts(),p=a?A.appear:A.enter;if(!s&&!i||Yn.disabled){this.safeSetState({status:Pe},function(){o.props.onEntered(l)});return}this.props.onEnter(l,u),this.safeSetState({status:Me},function(){o.props.onEntering(l,u),o.onTransitionEnd(p,function(){o.safeSetState({status:Pe},function(){o.props.onEntered(l,u)})})})},t.performExit=function(){var s=this,o=this.props.exit,i=this.getTimeouts(),a=this.props.nodeRef?void 0:Et.findDOMNode(this);if(!o||Yn.disabled){this.safeSetState({status:Re},function(){s.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:nn},function(){s.props.onExiting(a),s.onTransitionEnd(i.exit,function(){s.safeSetState({status:Re},function(){s.props.onExited(a)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(s,o){o=this.setNextCallback(o),this.setState(s,o)},t.setNextCallback=function(s){var o=this,i=!0;return this.nextCallback=function(a){i&&(i=!1,o.nextCallback=null,s(a))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},t.onTransitionEnd=function(s,o){this.setNextCallback(o);var i=this.props.nodeRef?this.props.nodeRef.current:Et.findDOMNode(this),a=s==null&&!this.props.addEndListener;if(!i||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],l=c[0],u=c[1];this.props.addEndListener(l,u)}s!=null&&setTimeout(this.nextCallback,s)},t.render=function(){var s=this.state.status;if(s===rt)return null;var o=this.props,i=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=So(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ne.createElement(Ps.Provider,{value:null},typeof i=="function"?i(s,a):Ne.cloneElement(Ne.Children.only(i),a))},e}(Ne.Component);pe.contextType=Ps;pe.propTypes={};function Je(){}pe.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Je,onEntering:Je,onEntered:Je,onExit:Je,onExiting:Je,onExited:Je};pe.UNMOUNTED=rt;pe.EXITED=Re;pe.ENTERING=Me;pe.ENTERED=Pe;pe.EXITING=nn;const Po=n=>n.scrollTop;function Wn(n,e){const{timeout:t,easing:r,style:s={}}=n;return{duration:s.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:s.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:s.transitionDelay}}function vt(n,e){const{className:t,elementType:r,ownerState:s,externalForwardedProps:o,internalForwardedProps:i,shouldForwardComponentProp:a=!1,...c}=e,{component:l,slots:u={[n]:void 0},slotProps:A={[n]:void 0},...p}=o,f=u[n]||r,d=Ss(A[n],s),{props:{component:B,...h},internalRef:m}=ws({className:t,...c,externalForwardedProps:n==="root"?p:void 0,externalSlotProps:d}),v=Te(m,d==null?void 0:d.ref,e.ref),E=n==="root"?B||l:B,C=Os(f,{...n==="root"&&!l&&!u[n]&&i,...n!=="root"&&!u[n]&&i,...h,...E&&!a&&{as:E},...E&&a&&{component:E},ref:v},s);return[f,C]}var K="top",Z="bottom",V="right",k="left",gn="auto",ft=[K,Z,V,k],Ke="start",At="end",No="clippingParents",Ns="viewport",$e="popper",Uo="reference",Zn=ft.reduce(function(n,e){return n.concat([e+"-"+Ke,e+"-"+At])},[]),Us=[].concat(ft,[gn]).reduce(function(n,e){return n.concat([e,e+"-"+Ke,e+"-"+At])},[]),Ko="beforeRead",ko="read",jo="afterRead",_o="beforeMain",Qo="main",Xo="afterMain",Yo="beforeWrite",Wo="write",Zo="afterWrite",Vo=[Ko,ko,jo,_o,Qo,Xo,Yo,Wo,Zo];function ie(n){return n?(n.nodeName||"").toLowerCase():null}function _(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function De(n){var e=_(n).Element;return n instanceof e||n instanceof Element}function W(n){var e=_(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function En(n){if(typeof ShadowRoot>"u")return!1;var e=_(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function qo(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},s=e.attributes[t]||{},o=e.elements[t];!W(o)||!ie(o)||(Object.assign(o.style,r),Object.keys(s).forEach(function(i){var a=s[i];a===!1?o.removeAttribute(i):o.setAttribute(i,a===!0?"":a)}))})}function zo(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],o=e.attributes[r]||{},i=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),a=i.reduce(function(c,l){return c[l]="",c},{});!W(s)||!ie(s)||(Object.assign(s.style,a),Object.keys(o).forEach(function(c){s.removeAttribute(c)}))})}}const $o={name:"applyStyles",enabled:!0,phase:"write",fn:qo,effect:zo,requires:["computeStyles"]};function oe(n){return n.split("-")[0]}var be=Math.max,xt=Math.min,ke=Math.round;function sn(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Ks(){return!/^((?!chrome|android).)*safari/i.test(sn())}function je(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),s=1,o=1;e&&W(n)&&(s=n.offsetWidth>0&&ke(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&ke(r.height)/n.offsetHeight||1);var i=De(n)?_(n):window,a=i.visualViewport,c=!Ks()&&t,l=(r.left+(c&&a?a.offsetLeft:0))/s,u=(r.top+(c&&a?a.offsetTop:0))/o,A=r.width/s,p=r.height/o;return{width:A,height:p,top:u,right:l+A,bottom:u+p,left:l,x:l,y:u}}function vn(n){var e=je(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function ks(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&En(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ae(n){return _(n).getComputedStyle(n)}function ei(n){return["table","td","th"].indexOf(ie(n))>=0}function he(n){return((De(n)?n.ownerDocument:n.document)||window.document).documentElement}function St(n){return ie(n)==="html"?n:n.assignedSlot||n.parentNode||(En(n)?n.host:null)||he(n)}function Vn(n){return!W(n)||Ae(n).position==="fixed"?null:n.offsetParent}function ti(n){var e=/firefox/i.test(sn()),t=/Trident/i.test(sn());if(t&&W(n)){var r=Ae(n);if(r.position==="fixed")return null}var s=St(n);for(En(s)&&(s=s.host);W(s)&&["html","body"].indexOf(ie(s))<0;){var o=Ae(s);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return s;s=s.parentNode}return null}function dt(n){for(var e=_(n),t=Vn(n);t&&ei(t)&&Ae(t).position==="static";)t=Vn(t);return t&&(ie(t)==="html"||ie(t)==="body"&&Ae(t).position==="static")?e:t||ti(n)||e}function Rn(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function at(n,e,t){return be(n,xt(e,t))}function ni(n,e,t){var r=at(n,e,t);return r>t?t:r}function js(){return{top:0,right:0,bottom:0,left:0}}function _s(n){return Object.assign({},js(),n)}function Qs(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var si=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,_s(typeof e!="number"?e:Qs(e,ft))};function ri(n){var e,t=n.state,r=n.name,s=n.options,o=t.elements.arrow,i=t.modifiersData.popperOffsets,a=oe(t.placement),c=Rn(a),l=[k,V].indexOf(a)>=0,u=l?"height":"width";if(!(!o||!i)){var A=si(s.padding,t),p=vn(o),f=c==="y"?K:k,d=c==="y"?Z:V,B=t.rects.reference[u]+t.rects.reference[c]-i[c]-t.rects.popper[u],h=i[c]-t.rects.reference[c],m=dt(o),v=m?c==="y"?m.clientHeight||0:m.clientWidth||0:0,E=B/2-h/2,C=A[f],M=v-p[u]-A[d],R=v/2-p[u]/2+E,b=at(C,R,M),I=c;t.modifiersData[r]=(e={},e[I]=b,e.centerOffset=b-R,e)}}function oi(n){var e=n.state,t=n.options,r=t.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||ks(e.elements.popper,s)&&(e.elements.arrow=s))}const ii={name:"arrow",enabled:!0,phase:"main",fn:ri,effect:oi,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function _e(n){return n.split("-")[1]}var ai={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ci(n,e){var t=n.x,r=n.y,s=e.devicePixelRatio||1;return{x:ke(t*s)/s||0,y:ke(r*s)/s||0}}function qn(n){var e,t=n.popper,r=n.popperRect,s=n.placement,o=n.variation,i=n.offsets,a=n.position,c=n.gpuAcceleration,l=n.adaptive,u=n.roundOffsets,A=n.isFixed,p=i.x,f=p===void 0?0:p,d=i.y,B=d===void 0?0:d,h=typeof u=="function"?u({x:f,y:B}):{x:f,y:B};f=h.x,B=h.y;var m=i.hasOwnProperty("x"),v=i.hasOwnProperty("y"),E=k,C=K,M=window;if(l){var R=dt(t),b="clientHeight",I="clientWidth";if(R===_(t)&&(R=he(t),Ae(R).position!=="static"&&a==="absolute"&&(b="scrollHeight",I="scrollWidth")),R=R,s===K||(s===k||s===V)&&o===At){C=Z;var D=A&&R===M&&M.visualViewport?M.visualViewport.height:R[b];B-=D-r.height,B*=c?1:-1}if(s===k||(s===K||s===Z)&&o===At){E=V;var G=A&&R===M&&M.visualViewport?M.visualViewport.width:R[I];f-=G-r.width,f*=c?1:-1}}var O=Object.assign({position:a},l&&ai),P=u===!0?ci({x:f,y:B},_(t)):{x:f,y:B};if(f=P.x,B=P.y,c){var S;return Object.assign({},O,(S={},S[C]=v?"0":"",S[E]=m?"0":"",S.transform=(M.devicePixelRatio||1)<=1?"translate("+f+"px, "+B+"px)":"translate3d("+f+"px, "+B+"px, 0)",S))}return Object.assign({},O,(e={},e[C]=v?B+"px":"",e[E]=m?f+"px":"",e.transform="",e))}function li(n){var e=n.state,t=n.options,r=t.gpuAcceleration,s=r===void 0?!0:r,o=t.adaptive,i=o===void 0?!0:o,a=t.roundOffsets,c=a===void 0?!0:a,l={placement:oe(e.placement),variation:_e(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,qn(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:i,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,qn(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const ui={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:li,data:{}};var Rt={passive:!0};function Ai(n){var e=n.state,t=n.instance,r=n.options,s=r.scroll,o=s===void 0?!0:s,i=r.resize,a=i===void 0?!0:i,c=_(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&l.forEach(function(u){u.addEventListener("scroll",t.update,Rt)}),a&&c.addEventListener("resize",t.update,Rt),function(){o&&l.forEach(function(u){u.removeEventListener("scroll",t.update,Rt)}),a&&c.removeEventListener("resize",t.update,Rt)}}const pi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ai,data:{}};var fi={left:"right",right:"left",bottom:"top",top:"bottom"};function Tt(n){return n.replace(/left|right|bottom|top/g,function(e){return fi[e]})}var di={start:"end",end:"start"};function zn(n){return n.replace(/start|end/g,function(e){return di[e]})}function Mn(n){var e=_(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function Fn(n){return je(he(n)).left+Mn(n).scrollLeft}function Bi(n,e){var t=_(n),r=he(n),s=t.visualViewport,o=r.clientWidth,i=r.clientHeight,a=0,c=0;if(s){o=s.width,i=s.height;var l=Ks();(l||!l&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:a+Fn(n),y:c}}function hi(n){var e,t=he(n),r=Mn(n),s=(e=n.ownerDocument)==null?void 0:e.body,o=be(t.scrollWidth,t.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),i=be(t.scrollHeight,t.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+Fn(n),c=-r.scrollTop;return Ae(s||t).direction==="rtl"&&(a+=be(t.clientWidth,s?s.clientWidth:0)-o),{width:o,height:i,x:a,y:c}}function bn(n){var e=Ae(n),t=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+s+r)}function Xs(n){return["html","body","#document"].indexOf(ie(n))>=0?n.ownerDocument.body:W(n)&&bn(n)?n:Xs(St(n))}function ct(n,e){var t;e===void 0&&(e=[]);var r=Xs(n),s=r===((t=n.ownerDocument)==null?void 0:t.body),o=_(r),i=s?[o].concat(o.visualViewport||[],bn(r)?r:[]):r,a=e.concat(i);return s?a:a.concat(ct(St(i)))}function rn(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Ci(n,e){var t=je(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function $n(n,e,t){return e===Ns?rn(Bi(n,t)):De(e)?Ci(e,t):rn(hi(he(n)))}function mi(n){var e=ct(St(n)),t=["absolute","fixed"].indexOf(Ae(n).position)>=0,r=t&&W(n)?dt(n):n;return De(r)?e.filter(function(s){return De(s)&&ks(s,r)&&ie(s)!=="body"}):[]}function gi(n,e,t,r){var s=e==="clippingParents"?mi(n):[].concat(e),o=[].concat(s,[t]),i=o[0],a=o.reduce(function(c,l){var u=$n(n,l,r);return c.top=be(u.top,c.top),c.right=xt(u.right,c.right),c.bottom=xt(u.bottom,c.bottom),c.left=be(u.left,c.left),c},$n(n,i,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Ys(n){var e=n.reference,t=n.element,r=n.placement,s=r?oe(r):null,o=r?_e(r):null,i=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,c;switch(s){case K:c={x:i,y:e.y-t.height};break;case Z:c={x:i,y:e.y+e.height};break;case V:c={x:e.x+e.width,y:a};break;case k:c={x:e.x-t.width,y:a};break;default:c={x:e.x,y:e.y}}var l=s?Rn(s):null;if(l!=null){var u=l==="y"?"height":"width";switch(o){case Ke:c[l]=c[l]-(e[u]/2-t[u]/2);break;case At:c[l]=c[l]+(e[u]/2-t[u]/2);break}}return c}function pt(n,e){e===void 0&&(e={});var t=e,r=t.placement,s=r===void 0?n.placement:r,o=t.strategy,i=o===void 0?n.strategy:o,a=t.boundary,c=a===void 0?No:a,l=t.rootBoundary,u=l===void 0?Ns:l,A=t.elementContext,p=A===void 0?$e:A,f=t.altBoundary,d=f===void 0?!1:f,B=t.padding,h=B===void 0?0:B,m=_s(typeof h!="number"?h:Qs(h,ft)),v=p===$e?Uo:$e,E=n.rects.popper,C=n.elements[d?v:p],M=gi(De(C)?C:C.contextElement||he(n.elements.popper),c,u,i),R=je(n.elements.reference),b=Ys({reference:R,element:E,placement:s}),I=rn(Object.assign({},E,b)),D=p===$e?I:R,G={top:M.top-D.top+m.top,bottom:D.bottom-M.bottom+m.bottom,left:M.left-D.left+m.left,right:D.right-M.right+m.right},O=n.modifiersData.offset;if(p===$e&&O){var P=O[s];Object.keys(G).forEach(function(S){var j=[V,Z].indexOf(S)>=0?1:-1,H=[K,Z].indexOf(S)>=0?"y":"x";G[S]+=P[H]*j})}return G}function Ei(n,e){e===void 0&&(e={});var t=e,r=t.placement,s=t.boundary,o=t.rootBoundary,i=t.padding,a=t.flipVariations,c=t.allowedAutoPlacements,l=c===void 0?Us:c,u=_e(r),A=u?a?Zn:Zn.filter(function(d){return _e(d)===u}):ft,p=A.filter(function(d){return l.indexOf(d)>=0});p.length===0&&(p=A);var f=p.reduce(function(d,B){return d[B]=pt(n,{placement:B,boundary:s,rootBoundary:o,padding:i})[oe(B)],d},{});return Object.keys(f).sort(function(d,B){return f[d]-f[B]})}function vi(n){if(oe(n)===gn)return[];var e=Tt(n);return[zn(n),e,zn(e)]}function Ri(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var s=t.mainAxis,o=s===void 0?!0:s,i=t.altAxis,a=i===void 0?!0:i,c=t.fallbackPlacements,l=t.padding,u=t.boundary,A=t.rootBoundary,p=t.altBoundary,f=t.flipVariations,d=f===void 0?!0:f,B=t.allowedAutoPlacements,h=e.options.placement,m=oe(h),v=m===h,E=c||(v||!d?[Tt(h)]:vi(h)),C=[h].concat(E).reduce(function(q,Q){return q.concat(oe(Q)===gn?Ei(e,{placement:Q,boundary:u,rootBoundary:A,padding:l,flipVariations:d,allowedAutoPlacements:B}):Q)},[]),M=e.rects.reference,R=e.rects.popper,b=new Map,I=!0,D=C[0],G=0;G<C.length;G++){var O=C[G],P=oe(O),S=_e(O)===Ke,j=[K,Z].indexOf(P)>=0,H=j?"width":"height",w=pt(e,{placement:O,boundary:u,rootBoundary:A,altBoundary:p,padding:l}),x=j?S?V:k:S?Z:K;M[H]>R[H]&&(x=Tt(x));var U=Tt(x),J=[];if(o&&J.push(w[P]<=0),a&&J.push(w[x]<=0,w[U]<=0),J.every(function(q){return q})){D=O,I=!1;break}b.set(O,J)}if(I)for(var N=d?3:1,ye=function(Q){var fe=C.find(function(de){var X=b.get(de);if(X)return X.slice(0,Q).every(function(xe){return xe})});if(fe)return D=fe,"break"},ce=N;ce>0;ce--){var Ie=ye(ce);if(Ie==="break")break}e.placement!==D&&(e.modifiersData[r]._skip=!0,e.placement=D,e.reset=!0)}}const Mi={name:"flip",enabled:!0,phase:"main",fn:Ri,requiresIfExists:["offset"],data:{_skip:!1}};function es(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function ts(n){return[K,V,Z,k].some(function(e){return n[e]>=0})}function Fi(n){var e=n.state,t=n.name,r=e.rects.reference,s=e.rects.popper,o=e.modifiersData.preventOverflow,i=pt(e,{elementContext:"reference"}),a=pt(e,{altBoundary:!0}),c=es(i,r),l=es(a,s,o),u=ts(c),A=ts(l);e.modifiersData[t]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:A},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":A})}const bi={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Fi};function Gi(n,e,t){var r=oe(n),s=[k,K].indexOf(r)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,i=o[0],a=o[1];return i=i||0,a=(a||0)*s,[k,V].indexOf(r)>=0?{x:a,y:i}:{x:i,y:a}}function Ti(n){var e=n.state,t=n.options,r=n.name,s=t.offset,o=s===void 0?[0,0]:s,i=Us.reduce(function(u,A){return u[A]=Gi(A,e.rects,o),u},{}),a=i[e.placement],c=a.x,l=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=i}const Di={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ti};function yi(n){var e=n.state,t=n.name;e.modifiersData[t]=Ys({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Ii={name:"popperOffsets",enabled:!0,phase:"read",fn:yi,data:{}};function xi(n){return n==="x"?"y":"x"}function Hi(n){var e=n.state,t=n.options,r=n.name,s=t.mainAxis,o=s===void 0?!0:s,i=t.altAxis,a=i===void 0?!1:i,c=t.boundary,l=t.rootBoundary,u=t.altBoundary,A=t.padding,p=t.tether,f=p===void 0?!0:p,d=t.tetherOffset,B=d===void 0?0:d,h=pt(e,{boundary:c,rootBoundary:l,padding:A,altBoundary:u}),m=oe(e.placement),v=_e(e.placement),E=!v,C=Rn(m),M=xi(C),R=e.modifiersData.popperOffsets,b=e.rects.reference,I=e.rects.popper,D=typeof B=="function"?B(Object.assign({},e.rects,{placement:e.placement})):B,G=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,P={x:0,y:0};if(R){if(o){var S,j=C==="y"?K:k,H=C==="y"?Z:V,w=C==="y"?"height":"width",x=R[C],U=x+h[j],J=x-h[H],N=f?-I[w]/2:0,ye=v===Ke?b[w]:I[w],ce=v===Ke?-I[w]:-b[w],Ie=e.elements.arrow,q=f&&Ie?vn(Ie):{width:0,height:0},Q=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:js(),fe=Q[j],de=Q[H],X=at(0,b[w],q[w]),xe=E?b[w]/2-N-X-fe-G.mainAxis:ye-X-fe-G.mainAxis,Jt=E?-b[w]/2+N+X+de+G.mainAxis:ce+X+de+G.mainAxis,He=e.elements.arrow&&dt(e.elements.arrow),z=He?C==="y"?He.clientTop||0:He.clientLeft||0:0,Oe=(S=O==null?void 0:O[C])!=null?S:0,Ce=x+xe-Oe-z,we=x+Jt-Oe,Xe=at(f?xt(U,Ce):U,x,f?be(J,we):J);R[C]=Xe,P[C]=Xe-x}if(a){var me,Se=C==="x"?K:k,Ye=C==="x"?Z:V,ne=R[M],ge=M==="y"?"height":"width",We=ne+h[Se],Ze=ne-h[Ye],Ve=[K,k].indexOf(m)!==-1,Bt=(me=O==null?void 0:O[M])!=null?me:0,ht=Ve?We:ne-b[ge]-I[ge]-Bt+G.altAxis,Le=Ve?ne+b[ge]+I[ge]-Bt-G.altAxis:Ze,Ct=f&&Ve?ni(ht,ne,Le):at(f?ht:We,ne,f?Le:Ze);R[M]=Ct,P[M]=Ct-ne}e.modifiersData[r]=P}}const Oi={name:"preventOverflow",enabled:!0,phase:"main",fn:Hi,requiresIfExists:["offset"]};function wi(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function Si(n){return n===_(n)||!W(n)?Mn(n):wi(n)}function Li(n){var e=n.getBoundingClientRect(),t=ke(e.width)/n.offsetWidth||1,r=ke(e.height)/n.offsetHeight||1;return t!==1||r!==1}function Ji(n,e,t){t===void 0&&(t=!1);var r=W(e),s=W(e)&&Li(e),o=he(e),i=je(n,s,t),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!t)&&((ie(e)!=="body"||bn(o))&&(a=Si(e)),W(e)?(c=je(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):o&&(c.x=Fn(o))),{x:i.left+a.scrollLeft-c.x,y:i.top+a.scrollTop-c.y,width:i.width,height:i.height}}function Pi(n){var e=new Map,t=new Set,r=[];n.forEach(function(o){e.set(o.name,o)});function s(o){t.add(o.name);var i=[].concat(o.requires||[],o.requiresIfExists||[]);i.forEach(function(a){if(!t.has(a)){var c=e.get(a);c&&s(c)}}),r.push(o)}return n.forEach(function(o){t.has(o.name)||s(o)}),r}function Ni(n){var e=Pi(n);return Vo.reduce(function(t,r){return t.concat(e.filter(function(s){return s.phase===r}))},[])}function Ui(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function Ki(n){var e=n.reduce(function(t,r){var s=t[r.name];return t[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var ns={placement:"bottom",modifiers:[],strategy:"absolute"};function ss(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function ki(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,s=e.defaultOptions,o=s===void 0?ns:s;return function(a,c,l){l===void 0&&(l=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},ns,o),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},A=[],p=!1,f={state:u,setOptions:function(m){var v=typeof m=="function"?m(u.options):m;B(),u.options=Object.assign({},o,u.options,v),u.scrollParents={reference:De(a)?ct(a):a.contextElement?ct(a.contextElement):[],popper:ct(c)};var E=Ni(Ki([].concat(r,u.options.modifiers)));return u.orderedModifiers=E.filter(function(C){return C.enabled}),d(),f.update()},forceUpdate:function(){if(!p){var m=u.elements,v=m.reference,E=m.popper;if(ss(v,E)){u.rects={reference:Ji(v,dt(E),u.options.strategy==="fixed"),popper:vn(E)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(G){return u.modifiersData[G.name]=Object.assign({},G.data)});for(var C=0;C<u.orderedModifiers.length;C++){if(u.reset===!0){u.reset=!1,C=-1;continue}var M=u.orderedModifiers[C],R=M.fn,b=M.options,I=b===void 0?{}:b,D=M.name;typeof R=="function"&&(u=R({state:u,options:I,name:D,instance:f})||u)}}}},update:Ui(function(){return new Promise(function(h){f.forceUpdate(),h(u)})}),destroy:function(){B(),p=!0}};if(!ss(a,c))return f;f.setOptions(l).then(function(h){!p&&l.onFirstUpdate&&l.onFirstUpdate(h)});function d(){u.orderedModifiers.forEach(function(h){var m=h.name,v=h.options,E=v===void 0?{}:v,C=h.effect;if(typeof C=="function"){var M=C({state:u,name:m,instance:f,options:E}),R=function(){};A.push(M||R)}})}function B(){A.forEach(function(h){return h()}),A=[]}return f}}var ji=[pi,Ii,ui,$o,Di,Mi,Oi,ii,bi],_i=ki({defaultModifiers:ji});function Qi(n){return typeof n=="function"?n():n}const Xi=F.forwardRef(function(e,t){const{children:r,container:s,disablePortal:o=!1}=e,[i,a]=F.useState(null),c=Te(F.isValidElement(r)?mn(r):null,t);if(ut(()=>{o||a(Qi(s)||document.body)},[s,o]),ut(()=>{if(i&&!o)return Un(t,i),()=>{Un(t,null)}},[t,i,o]),o){if(F.isValidElement(r)){const l={ref:c};return F.cloneElement(r,l)}return r}return i&&fr.createPortal(r,i)});function Yi(n){return ds("MuiPopper",n)}Bs("MuiPopper",["root"]);function Wi(n,e){if(e==="ltr")return n;switch(n){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return n}}function on(n){return typeof n=="function"?n():n}function Zi(n){return n.nodeType!==void 0}const Vi=n=>{const{classes:e}=n;return hs({root:["root"]},Yi,e)},qi={},zi=F.forwardRef(function(e,t){const{anchorEl:r,children:s,direction:o,disablePortal:i,modifiers:a,open:c,placement:l,popperOptions:u,popperRef:A,slotProps:p={},slots:f={},TransitionProps:d,ownerState:B,...h}=e,m=F.useRef(null),v=Te(m,t),E=F.useRef(null),C=Te(E,A),M=F.useRef(C);ut(()=>{M.current=C},[C]),F.useImperativeHandle(A,()=>E.current,[]);const R=Wi(l,o),[b,I]=F.useState(R),[D,G]=F.useState(on(r));F.useEffect(()=>{E.current&&E.current.forceUpdate()}),F.useEffect(()=>{r&&G(on(r))},[r]),ut(()=>{if(!D||!c)return;const H=U=>{I(U.placement)};let w=[{name:"preventOverflow",options:{altBoundary:i}},{name:"flip",options:{altBoundary:i}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:U})=>{H(U)}}];a!=null&&(w=w.concat(a)),u&&u.modifiers!=null&&(w=w.concat(u.modifiers));const x=_i(D,m.current,{placement:R,...u,modifiers:w});return M.current(x),()=>{x.destroy(),M.current(null)}},[D,i,a,c,u,R]);const O={placement:b};d!==null&&(O.TransitionProps=d);const P=Vi(e),S=f.root??"div",j=Oo({elementType:S,externalSlotProps:p.root,externalForwardedProps:h,additionalProps:{role:"tooltip",ref:v},ownerState:e,className:P.root});return g.jsx(S,{...j,children:typeof s=="function"?s(O):s})}),$i=F.forwardRef(function(e,t){const{anchorEl:r,children:s,container:o,direction:i="ltr",disablePortal:a=!1,keepMounted:c=!1,modifiers:l,open:u,placement:A="bottom",popperOptions:p=qi,popperRef:f,style:d,transition:B=!1,slotProps:h={},slots:m={},...v}=e,[E,C]=F.useState(!0),M=()=>{C(!1)},R=()=>{C(!0)};if(!c&&!u&&(!B||E))return null;let b;if(o)b=o;else if(r){const G=on(r);b=G&&Zi(G)?Nn(G).body:Nn(null).body}const I=!u&&c&&(!B||E)?"none":void 0,D=B?{in:u,onEnter:M,onExited:R}:void 0;return g.jsx(Xi,{disablePortal:a,container:b,children:g.jsx(zi,{anchorEl:r,direction:i,disablePortal:a,modifiers:l,ref:t,open:B?!E:u,placement:A,popperOptions:p,popperRef:f,slotProps:h,slots:m,...v,style:{position:"fixed",top:0,left:0,display:I,...d},TransitionProps:D,children:s})})}),ea=Ot($i,{name:"MuiPopper",slot:"Root",overridesResolver:(n,e)=>e.root})({}),Ws=F.forwardRef(function(e,t){const r=Ls(),s=Cs({props:e,name:"MuiPopper"}),{anchorEl:o,component:i,components:a,componentsProps:c,container:l,disablePortal:u,keepMounted:A,modifiers:p,open:f,placement:d,popperOptions:B,popperRef:h,transition:m,slots:v,slotProps:E,...C}=s,M=(v==null?void 0:v.root)??(a==null?void 0:a.Root),R={anchorEl:o,container:l,disablePortal:u,keepMounted:A,modifiers:p,open:f,placement:d,popperOptions:B,popperRef:h,transition:m,...C};return g.jsx(ea,{as:i,direction:r?"rtl":"ltr",slots:{root:M},slotProps:E??c,...R,ref:t})});function an(n){return`scale(${n}, ${n**2})`}const ta={entering:{opacity:1,transform:an(1)},entered:{opacity:1,transform:"none"}},Xt=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),cn=F.forwardRef(function(e,t){const{addEndListener:r,appear:s=!0,children:o,easing:i,in:a,onEnter:c,onEntered:l,onEntering:u,onExit:A,onExited:p,onExiting:f,style:d,timeout:B="auto",TransitionComponent:h=pe,...m}=e,v=st(),E=F.useRef(),C=Js(),M=F.useRef(null),R=Te(M,mn(o),t),b=H=>w=>{if(H){const x=M.current;w===void 0?H(x):H(x,w)}},I=b(u),D=b((H,w)=>{Po(H);const{duration:x,delay:U,easing:J}=Wn({style:d,timeout:B,easing:i},{mode:"enter"});let N;B==="auto"?(N=C.transitions.getAutoHeightDuration(H.clientHeight),E.current=N):N=x,H.style.transition=[C.transitions.create("opacity",{duration:N,delay:U}),C.transitions.create("transform",{duration:Xt?N:N*.666,delay:U,easing:J})].join(","),c&&c(H,w)}),G=b(l),O=b(f),P=b(H=>{const{duration:w,delay:x,easing:U}=Wn({style:d,timeout:B,easing:i},{mode:"exit"});let J;B==="auto"?(J=C.transitions.getAutoHeightDuration(H.clientHeight),E.current=J):J=w,H.style.transition=[C.transitions.create("opacity",{duration:J,delay:x}),C.transitions.create("transform",{duration:Xt?J:J*.666,delay:Xt?x:x||J*.333,easing:U})].join(","),H.style.opacity=0,H.style.transform=an(.75),A&&A(H)}),S=b(p),j=H=>{B==="auto"&&v.start(E.current||0,H),r&&r(M.current,H)};return g.jsx(h,{appear:s,in:a,nodeRef:M,onEnter:D,onEntered:G,onEntering:I,onExit:P,onExited:S,onExiting:O,addEndListener:j,timeout:B==="auto"?null:B,...m,children:(H,{ownerState:w,...x})=>F.cloneElement(o,{style:{opacity:0,transform:an(.75),visibility:H==="exited"&&!a?"hidden":void 0,...ta[H],...d,...o.props.style},ref:R,...x})})});cn&&(cn.muiSupportAuto=!0);function na(n){return ds("MuiTooltip",n)}const L=Bs("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function sa(n){return Math.round(n*1e5)/1e5}const ra=n=>{const{classes:e,disableInteractive:t,arrow:r,touch:s,placement:o}=n,i={popper:["popper",!t&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",s&&"touch",`tooltipPlacement${ms(o.split("-")[0])}`],arrow:["arrow"]};return hs(i,na,e)},oa=Ot(Ws,{name:"MuiTooltip",slot:"Popper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.popper,!t.disableInteractive&&e.popperInteractive,t.arrow&&e.popperArrow,!t.open&&e.popperClose]}})(An(({theme:n})=>({zIndex:(n.vars||n).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${L.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${L.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${L.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${L.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${L.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${L.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${L.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${L.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),ia=Ot("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.tooltip,t.touch&&e.touch,t.arrow&&e.tooltipArrow,e[`tooltipPlacement${ms(t.placement.split("-")[0])}`]]}})(An(({theme:n})=>({backgroundColor:n.vars?n.vars.palette.Tooltip.bg:gs(n.palette.grey[700],.92),borderRadius:(n.vars||n).shape.borderRadius,color:(n.vars||n).palette.common.white,fontFamily:n.typography.fontFamily,padding:"4px 8px",fontSize:n.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:n.typography.fontWeightMedium,[`.${L.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${L.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${L.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${L.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:n.typography.pxToRem(14),lineHeight:`${sa(16/14)}em`,fontWeight:n.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${L.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${L.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${L.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${L.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${L.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${L.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${L.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${L.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${L.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${L.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),aa=Ot("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(n,e)=>e.arrow})(An(({theme:n})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:n.vars?n.vars.palette.Tooltip.bg:gs(n.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let Mt=!1;const rs=new wt;let et={x:0,y:0};function Ft(n,e){return(t,...r)=>{e&&e(t,...r),n(t,...r)}}const ca=F.forwardRef(function(e,t){const r=Cs({props:e,name:"MuiTooltip"}),{arrow:s=!1,children:o,classes:i,components:a={},componentsProps:c={},describeChild:l=!1,disableFocusListener:u=!1,disableHoverListener:A=!1,disableInteractive:p=!1,disableTouchListener:f=!1,enterDelay:d=100,enterNextDelay:B=0,enterTouchDelay:h=700,followCursor:m=!1,id:v,leaveDelay:E=0,leaveTouchDelay:C=1500,onClose:M,onOpen:R,open:b,placement:I="bottom",PopperComponent:D,PopperProps:G={},slotProps:O={},slots:P={},title:S,TransitionComponent:j,TransitionProps:H,...w}=r,x=F.isValidElement(o)?o:g.jsx("span",{children:o}),U=Js(),J=Ls(),[N,ye]=F.useState(),[ce,Ie]=F.useState(null),q=F.useRef(!1),Q=p||m,fe=st(),de=st(),X=st(),xe=st(),[Jt,He]=To({controlled:b,default:!1,name:"Tooltip",state:"open"});let z=Jt;const Oe=Go(v),Ce=F.useRef(),we=jn(()=>{Ce.current!==void 0&&(document.body.style.WebkitUserSelect=Ce.current,Ce.current=void 0),xe.clear()});F.useEffect(()=>we,[we]);const Xe=T=>{rs.clear(),Mt=!0,He(!0),R&&!z&&R(T)},me=jn(T=>{rs.start(800+E,()=>{Mt=!1}),He(!1),M&&z&&M(T),fe.start(U.transitions.duration.shortest,()=>{q.current=!1})}),Se=T=>{q.current&&T.type!=="touchstart"||(N&&N.removeAttribute("title"),de.clear(),X.clear(),d||Mt&&B?de.start(Mt?B:d,()=>{Xe(T)}):Xe(T))},Ye=T=>{de.clear(),X.start(E,()=>{me(T)})},[,ne]=F.useState(!1),ge=T=>{Qn(T.target)||(ne(!1),Ye(T))},We=T=>{N||ye(T.currentTarget),Qn(T.target)&&(ne(!0),Se(T))},Ze=T=>{q.current=!0;const te=x.props;te.onTouchStart&&te.onTouchStart(T)},Ve=T=>{Ze(T),X.clear(),fe.clear(),we(),Ce.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",xe.start(h,()=>{document.body.style.WebkitUserSelect=Ce.current,Se(T)})},Bt=T=>{x.props.onTouchEnd&&x.props.onTouchEnd(T),we(),X.start(C,()=>{me(T)})};F.useEffect(()=>{if(!z)return;function T(te){te.key==="Escape"&&me(te)}return document.addEventListener("keydown",T),()=>{document.removeEventListener("keydown",T)}},[me,z]);const ht=Te(mn(x),ye,t);!S&&S!==0&&(z=!1);const Le=F.useRef(),Ct=T=>{const te=x.props;te.onMouseMove&&te.onMouseMove(T),et={x:T.clientX,y:T.clientY},Le.current&&Le.current.update()},qe={},Pt=typeof S=="string";l?(qe.title=!z&&Pt&&!A?S:null,qe["aria-describedby"]=z?Oe:null):(qe["aria-label"]=Pt?S:null,qe["aria-labelledby"]=z&&!Pt?Oe:null);const $={...qe,...w,...x.props,className:Dt(w.className,x.props.className),onTouchStart:Ze,ref:ht,...m?{onMouseMove:Ct}:{}},ze={};f||($.onTouchStart=Ve,$.onTouchEnd=Bt),A||($.onMouseOver=Ft(Se,$.onMouseOver),$.onMouseLeave=Ft(Ye,$.onMouseLeave),Q||(ze.onMouseOver=Se,ze.onMouseLeave=Ye)),u||($.onFocus=Ft(We,$.onFocus),$.onBlur=Ft(ge,$.onBlur),Q||(ze.onFocus=We,ze.onBlur=ge));const Ee={...r,isRtl:J,arrow:s,disableInteractive:Q,placement:I,PopperComponentProp:D,touch:q.current},ee=typeof O.popper=="function"?O.popper(Ee):O.popper,$s=F.useMemo(()=>{var te,Tn;let T=[{name:"arrow",enabled:!!ce,options:{element:ce,padding:4}}];return(te=G.popperOptions)!=null&&te.modifiers&&(T=T.concat(G.popperOptions.modifiers)),(Tn=ee==null?void 0:ee.popperOptions)!=null&&Tn.modifiers&&(T=T.concat(ee.popperOptions.modifiers)),{...G.popperOptions,...ee==null?void 0:ee.popperOptions,modifiers:T}},[ce,G.popperOptions,ee==null?void 0:ee.popperOptions]),Nt=ra(Ee),er=typeof O.transition=="function"?O.transition(Ee):O.transition,mt={slots:{popper:a.Popper,transition:a.Transition??j,tooltip:a.Tooltip,arrow:a.Arrow,...P},slotProps:{arrow:O.arrow??c.arrow,popper:{...G,...ee??c.popper},tooltip:O.tooltip??c.tooltip,transition:{...H,...er??c.transition}}},[tr,nr]=vt("popper",{elementType:oa,externalForwardedProps:mt,ownerState:Ee,className:Dt(Nt.popper,G==null?void 0:G.className)}),[sr,rr]=vt("transition",{elementType:cn,externalForwardedProps:mt,ownerState:Ee}),[or,ir]=vt("tooltip",{elementType:ia,className:Nt.tooltip,externalForwardedProps:mt,ownerState:Ee}),[ar,cr]=vt("arrow",{elementType:aa,className:Nt.arrow,externalForwardedProps:mt,ownerState:Ee,ref:Ie});return g.jsxs(F.Fragment,{children:[F.cloneElement(x,$),g.jsx(tr,{as:D??Ws,placement:I,anchorEl:m?{getBoundingClientRect:()=>({top:et.y,left:et.x,right:et.x,bottom:et.y,width:0,height:0})}:N,popperRef:Le,open:N?z:!1,id:Oe,transition:!0,...ze,...nr,popperOptions:$s,children:({TransitionProps:T})=>g.jsx(sr,{timeout:U.transitions.duration.shorter,...T,...rr,children:g.jsxs(or,{...ir,children:[S,s?g.jsx(ar,{...cr}):null]})})})]})}),la=()=>{const{activeFilter:n,setActiveFilter:e}=Hs(),t=(s,o)=>{(n==null?void 0:n.color)===s?e(null):e({color:s,threshold:o})},r=s=>{if(s<0||s>=se.length)return"";const o=se[s];if(!o)return"";if((n==null?void 0:n.color)===o.color)return"Show all";if(s===0)return`Show cases ≥ ${o.threshold}`;if(s===se.length-1){const a=se[s-1];return a?`Show cases < ${a.threshold}`:""}const i=se[s-1];return i?`Show cases ${o.threshold}-${i.threshold}`:""};return g.jsxs("div",{className:"w-80 bg-white/80 py-1 px-4 rounded-md shadow-md",children:[g.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Daily COVID-19 Cases"}),g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsx("div",{className:"flex h-5",children:se.map(({color:s,threshold:o},i)=>g.jsx(ca,{title:r(i),arrow:!0,children:g.jsx("div",{className:"color-indicator",style:{width:`${100/se.length}%`,backgroundColor:s,borderRadius:i===0?"3px 0 0 3px":i===se.length-1?"0 3px 3px 0":"0",cursor:"pointer",opacity:(n==null?void 0:n.color)===s?1:.5},onClick:()=>t(s,o)})},s))}),g.jsx("div",{style:{display:"flex",justifyContent:"space-between"},children:se.map(({threshold:s})=>g.jsx("span",{style:{fontSize:"12px",color:"#333"},children:s},s))})]})]})},Qe=xs(n=>({cameraPosition:new re(1.0959887504577637,.005898133385926485,.19488362967967987),activeMesh:null,setCameraPosition:e=>{n(()=>({activeMesh:e.activeMesh}))},isResetCamera:!1,resetCamera:e=>{n(()=>({isResetCamera:e}))}})),ua=()=>{const n=Qe(t=>t.setCameraPosition),e=en({data:lt,pageSize:0,ascending:!1});return g.jsxs("div",{className:"w-80 bg-gradient-to-br from-white to-green-50/20 p-4 rounded-lg shadow-lg mt-4 backdrop-blur-sm border border-green-100/30",children:[g.jsxs("div",{className:"flex items-center justify-between mb-3 uppercase",children:[g.jsx("h3",{className:"text-base font-semibold text-[#28667e]",children:"All cities"}),g.jsxs("span",{className:"text-xs text-[#28667e]",children:["Updated: ",new Date().toLocaleDateString()]})]}),g.jsx("div",{className:"overflow-y-auto h-[70vh]",children:g.jsxs("table",{className:"w-full text-sm",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"border-b border-green-100/30",children:[g.jsx("th",{className:"text-left py-2 px-2 font-medium text-[#28667e]",children:"#"}),g.jsx("th",{className:"text-left py-2 px-2 font-medium text-[#28667e]",children:"City"}),g.jsx("th",{className:"text-right py-2 px-2 font-medium text-[#28667e]",children:"Cases"}),g.jsx("th",{className:"text-right py-2 px-2 font-medium text-[#792884]",children:"Deaths"})]})}),g.jsx("tbody",{children:e.map((t,r)=>g.jsxs("tr",{className:"border-b border-green-50/30 hover:bg-green-50/20 transition-colors cursor-pointer hover:bg-[#28667e21]",onClick:()=>n({activeMesh:hn(t.name)}),children:[g.jsx("td",{className:"py-2 px-2 text-[#28667e]",children:r+1}),g.jsx("td",{className:"py-2 px-2 font-medium text-[#28667e]",children:Cn(t.name)}),g.jsx("td",{className:"py-2 px-2 text-right font-medium text-[#28667e]",children:t.cases.toLocaleString()}),g.jsx("td",{className:"py-2 px-2 text-right text-[#792884]",children:t.deaths.toLocaleString()})]},`${t.name}-${r}`))})]})}),g.jsx("div",{className:"mt-3 text-xs text-[#28667e] text-right",children:"* Data source: Ministry of Health"})]})},os=({data:n,title:e,type:t})=>{const r=Qe(s=>s.setCameraPosition);return g.jsx(g.Fragment,{children:g.jsxs("div",{className:`top-cities-table relative ${t==="most"?"warning-styles":"available-styles"}`,children:[g.jsxs("div",{className:"top-cities-title flex gap-2",children:[g.jsx("span",{className:"top-cities-number",children:"10"}),g.jsxs("div",{className:"top-cities-description-container",children:[g.jsx("span",{className:"top-cities-description",children:"Cities"}),g.jsx("span",{className:"top-cities-sub-description",children:e})]})]}),g.jsx("table",{children:g.jsx("tbody",{children:n.length>0&&n.map((s,o)=>{var i,a;return g.jsxs("tr",{className:"table-chart-content border-b border-green-50/30 hover:bg-green-50/20 transition-colors cursor-pointer",onClick:()=>r({activeMesh:hn(s.name)}),children:[g.jsx("td",{className:"px-2",children:o+1}),g.jsx("td",{className:"px-2 font-medium w-[150px]",children:Cn(s.name)}),g.jsx("td",{className:"text-left font-medium text-red-300 w-[150px]",children:g.jsx("div",{className:"table-chart-bg px-2",style:{width:`${s.cases/((t==="most"?(i=n[0])==null?void 0:i.cases:(a=n[n.length-1])==null?void 0:a.cases)||1)*100}%`,minWidth:"25%"},children:g.jsx("span",{className:"text-white text-[10px]",children:s.cases.toLocaleString()})})})]},`${s.name}-${o}`)})})})]})})},Aa=parseInt(mr.replace(/\D+/g,""));function is(n,e){if(e===gr)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===zt||e===Es){let t=n.getIndex();if(t===null){const i=[],a=n.getAttribute("position");if(a!==void 0){for(let c=0;c<a.count;c++)i.push(c);n.setIndex(i),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,s=[];if(t)if(e===zt)for(let i=1;i<=r;i++)s.push(t.getX(0)),s.push(t.getX(i)),s.push(t.getX(i+1));else for(let i=0;i<r;i++)i%2===0?(s.push(t.getX(i)),s.push(t.getX(i+1)),s.push(t.getX(i+2))):(s.push(t.getX(i+2)),s.push(t.getX(i+1)),s.push(t.getX(i)));s.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=n.clone();return o.setIndex(s),o.clearGroups(),o}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}function Ht(n){if(typeof TextDecoder<"u")return new TextDecoder().decode(n);let e="";for(let t=0,r=n.length;t<r;t++)e+=String.fromCharCode(n[t]);try{return decodeURIComponent(escape(e))}catch{return e}}const Fe="srgb",ue="srgb-linear",as=3001,pa=3e3;class Gn extends vs{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Ca(t)}),this.register(function(t){return new ma(t)}),this.register(function(t){return new Ta(t)}),this.register(function(t){return new Da(t)}),this.register(function(t){return new ya(t)}),this.register(function(t){return new Ea(t)}),this.register(function(t){return new va(t)}),this.register(function(t){return new Ra(t)}),this.register(function(t){return new Ma(t)}),this.register(function(t){return new ha(t)}),this.register(function(t){return new Fa(t)}),this.register(function(t){return new ga(t)}),this.register(function(t){return new Ga(t)}),this.register(function(t){return new ba(t)}),this.register(function(t){return new da(t)}),this.register(function(t){return new Ia(t)}),this.register(function(t){return new xa(t)})}load(e,t,r,s){const o=this;let i;if(this.resourcePath!=="")i=this.resourcePath;else if(this.path!==""){const l=ot.extractUrlBase(e);i=ot.resolveURL(l,this.path)}else i=ot.extractUrlBase(e);this.manager.itemStart(e);const a=function(l){s?s(l):console.error(l),o.manager.itemError(e),o.manager.itemEnd(e)},c=new yt(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(l){try{o.parse(l,i,function(u){t(u),o.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,s){let o;const i={},a={};if(typeof e=="string")o=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Ht(new Uint8Array(e.slice(0,4)))===Zs){try{i[y.KHR_BINARY_GLTF]=new Ha(e)}catch(u){s&&s(u);return}o=JSON.parse(i[y.KHR_BINARY_GLTF].content)}else o=JSON.parse(Ht(new Uint8Array(e)));else o=e;if(o.asset===void 0||o.asset.version[0]<2){s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new Qa(o,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let l=0;l<this.pluginCallbacks.length;l++){const u=this.pluginCallbacks[l](c);u.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[u.name]=u,i[u.name]=!0}if(o.extensionsUsed)for(let l=0;l<o.extensionsUsed.length;++l){const u=o.extensionsUsed[l],A=o.extensionsRequired||[];switch(u){case y.KHR_MATERIALS_UNLIT:i[u]=new Ba;break;case y.KHR_DRACO_MESH_COMPRESSION:i[u]=new Oa(o,this.dracoLoader);break;case y.KHR_TEXTURE_TRANSFORM:i[u]=new wa;break;case y.KHR_MESH_QUANTIZATION:i[u]=new Sa;break;default:A.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}c.setExtensions(i),c.setPlugins(a),c.parse(r,s)}parseAsync(e,t){const r=this;return new Promise(function(s,o){r.parse(e,t,s,o)})}}function fa(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const y={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class da{constructor(e){this.parser=e,this.name=y.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r];o.extensions&&o.extensions[this.name]&&o.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,o.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let s=t.cache.get(r);if(s)return s;const o=t.json,c=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e];let l;const u=new Ge(16777215);c.color!==void 0&&u.setRGB(c.color[0],c.color[1],c.color[2],ue);const A=c.range!==void 0?c.range:0;switch(c.type){case"directional":l=new Rr(u),l.target.position.set(0,0,-1),l.add(l.target);break;case"point":l=new vr(u),l.distance=A;break;case"spot":l=new Er(u),l.distance=A,c.spot=c.spot||{},c.spot.innerConeAngle=c.spot.innerConeAngle!==void 0?c.spot.innerConeAngle:0,c.spot.outerConeAngle=c.spot.outerConeAngle!==void 0?c.spot.outerConeAngle:Math.PI/4,l.angle=c.spot.outerConeAngle,l.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,l.target.position.set(0,0,-1),l.add(l.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return l.position.set(0,0,0),l.decay=2,le(l,c),c.intensity!==void 0&&(l.intensity=c.intensity),l.name=t.createUniqueName(c.name||"light_"+e),s=Promise.resolve(l),t.cache.add(r,s),s}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,o=r.json.nodes[e],a=(o.extensions&&o.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(c){return r._getNodeRef(t.cache,a,c)})}}class Ba{constructor(){this.name=y.KHR_MATERIALS_UNLIT}getMaterialType(){return nt}extendParams(e,t,r){const s=[];e.color=new Ge(1,1,1),e.opacity=1;const o=t.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const i=o.baseColorFactor;e.color.setRGB(i[0],i[1],i[2],ue),e.opacity=i[3]}o.baseColorTexture!==void 0&&s.push(r.assignTexture(e,"map",o.baseColorTexture,Fe))}return Promise.all(s)}}class ha{constructor(e){this.parser=e,this.name=y.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=s.extensions[this.name].emissiveStrength;return o!==void 0&&(t.emissiveIntensity=o),Promise.resolve()}}class Ca{constructor(e){this.parser=e,this.name=y.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ae}extendMaterialParams(e,t){const r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=[],i=s.extensions[this.name];if(i.clearcoatFactor!==void 0&&(t.clearcoat=i.clearcoatFactor),i.clearcoatTexture!==void 0&&o.push(r.assignTexture(t,"clearcoatMap",i.clearcoatTexture)),i.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=i.clearcoatRoughnessFactor),i.clearcoatRoughnessTexture!==void 0&&o.push(r.assignTexture(t,"clearcoatRoughnessMap",i.clearcoatRoughnessTexture)),i.clearcoatNormalTexture!==void 0&&(o.push(r.assignTexture(t,"clearcoatNormalMap",i.clearcoatNormalTexture)),i.clearcoatNormalTexture.scale!==void 0)){const a=i.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Rs(a,a)}return Promise.all(o)}}class ma{constructor(e){this.parser=e,this.name=y.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ae}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=s.extensions[this.name];return t.dispersion=o.dispersion!==void 0?o.dispersion:0,Promise.resolve()}}class ga{constructor(e){this.parser=e,this.name=y.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ae}extendMaterialParams(e,t){const r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=[],i=s.extensions[this.name];return i.iridescenceFactor!==void 0&&(t.iridescence=i.iridescenceFactor),i.iridescenceTexture!==void 0&&o.push(r.assignTexture(t,"iridescenceMap",i.iridescenceTexture)),i.iridescenceIor!==void 0&&(t.iridescenceIOR=i.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),i.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=i.iridescenceThicknessMinimum),i.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=i.iridescenceThicknessMaximum),i.iridescenceThicknessTexture!==void 0&&o.push(r.assignTexture(t,"iridescenceThicknessMap",i.iridescenceThicknessTexture)),Promise.all(o)}}class Ea{constructor(e){this.parser=e,this.name=y.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ae}extendMaterialParams(e,t){const r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=[];t.sheenColor=new Ge(0,0,0),t.sheenRoughness=0,t.sheen=1;const i=s.extensions[this.name];if(i.sheenColorFactor!==void 0){const a=i.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],ue)}return i.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=i.sheenRoughnessFactor),i.sheenColorTexture!==void 0&&o.push(r.assignTexture(t,"sheenColorMap",i.sheenColorTexture,Fe)),i.sheenRoughnessTexture!==void 0&&o.push(r.assignTexture(t,"sheenRoughnessMap",i.sheenRoughnessTexture)),Promise.all(o)}}class va{constructor(e){this.parser=e,this.name=y.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ae}extendMaterialParams(e,t){const r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=[],i=s.extensions[this.name];return i.transmissionFactor!==void 0&&(t.transmission=i.transmissionFactor),i.transmissionTexture!==void 0&&o.push(r.assignTexture(t,"transmissionMap",i.transmissionTexture)),Promise.all(o)}}class Ra{constructor(e){this.parser=e,this.name=y.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ae}extendMaterialParams(e,t){const r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=[],i=s.extensions[this.name];t.thickness=i.thicknessFactor!==void 0?i.thicknessFactor:0,i.thicknessTexture!==void 0&&o.push(r.assignTexture(t,"thicknessMap",i.thicknessTexture)),t.attenuationDistance=i.attenuationDistance||1/0;const a=i.attenuationColor||[1,1,1];return t.attenuationColor=new Ge().setRGB(a[0],a[1],a[2],ue),Promise.all(o)}}class Ma{constructor(e){this.parser=e,this.name=y.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ae}extendMaterialParams(e,t){const s=this.parser.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=s.extensions[this.name];return t.ior=o.ior!==void 0?o.ior:1.5,Promise.resolve()}}class Fa{constructor(e){this.parser=e,this.name=y.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ae}extendMaterialParams(e,t){const r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=[],i=s.extensions[this.name];t.specularIntensity=i.specularFactor!==void 0?i.specularFactor:1,i.specularTexture!==void 0&&o.push(r.assignTexture(t,"specularIntensityMap",i.specularTexture));const a=i.specularColorFactor||[1,1,1];return t.specularColor=new Ge().setRGB(a[0],a[1],a[2],ue),i.specularColorTexture!==void 0&&o.push(r.assignTexture(t,"specularColorMap",i.specularColorTexture,Fe)),Promise.all(o)}}class ba{constructor(e){this.parser=e,this.name=y.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ae}extendMaterialParams(e,t){const r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=[],i=s.extensions[this.name];return t.bumpScale=i.bumpFactor!==void 0?i.bumpFactor:1,i.bumpTexture!==void 0&&o.push(r.assignTexture(t,"bumpMap",i.bumpTexture)),Promise.all(o)}}class Ga{constructor(e){this.parser=e,this.name=y.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ae}extendMaterialParams(e,t){const r=this.parser,s=r.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const o=[],i=s.extensions[this.name];return i.anisotropyStrength!==void 0&&(t.anisotropy=i.anisotropyStrength),i.anisotropyRotation!==void 0&&(t.anisotropyRotation=i.anisotropyRotation),i.anisotropyTexture!==void 0&&o.push(r.assignTexture(t,"anisotropyMap",i.anisotropyTexture)),Promise.all(o)}}class Ta{constructor(e){this.parser=e,this.name=y.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,s=r.textures[e];if(!s.extensions||!s.extensions[this.name])return null;const o=s.extensions[this.name],i=t.options.ktx2Loader;if(!i){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,o.source,i)}}class Da{constructor(e){this.parser=e,this.name=y.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,s=r.json,o=s.textures[e];if(!o.extensions||!o.extensions[t])return null;const i=o.extensions[t],a=s.images[i.source];let c=r.textureLoader;if(a.uri){const l=r.options.manager.getHandler(a.uri);l!==null&&(c=l)}return this.detectSupport().then(function(l){if(l)return r.loadTextureImage(e,i.source,c);if(s.extensionsRequired&&s.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class ya{constructor(e){this.parser=e,this.name=y.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,s=r.json,o=s.textures[e];if(!o.extensions||!o.extensions[t])return null;const i=o.extensions[t],a=s.images[i.source];let c=r.textureLoader;if(a.uri){const l=r.options.manager.getHandler(a.uri);l!==null&&(c=l)}return this.detectSupport().then(function(l){if(l)return r.loadTextureImage(e,i.source,c);if(s.extensionsRequired&&s.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Ia{constructor(e){this.name=y.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const s=r.extensions[this.name],o=this.parser.getDependency("buffer",s.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return o.then(function(a){const c=s.byteOffset||0,l=s.byteLength||0,u=s.count,A=s.byteStride,p=new Uint8Array(a,c,l);return i.decodeGltfBufferAsync?i.decodeGltfBufferAsync(u,A,p,s.mode,s.filter).then(function(f){return f.buffer}):i.ready.then(function(){const f=new ArrayBuffer(u*A);return i.decodeGltfBuffer(new Uint8Array(f),u,A,p,s.mode,s.filter),f})})}else return null}}class xa{constructor(e){this.name=y.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const s=t.meshes[r.mesh];for(const l of s.primitives)if(l.mode!==Y.TRIANGLES&&l.mode!==Y.TRIANGLE_STRIP&&l.mode!==Y.TRIANGLE_FAN&&l.mode!==void 0)return null;const i=r.extensions[this.name].attributes,a=[],c={};for(const l in i)a.push(this.parser.getDependency("accessor",i[l]).then(u=>(c[l]=u,c[l])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(l=>{const u=l.pop(),A=u.isGroup?u.children:[u],p=l[0].count,f=[];for(const d of A){const B=new It,h=new re,m=new Ms,v=new re(1,1,1),E=new Mr(d.geometry,d.material,p);for(let C=0;C<p;C++)c.TRANSLATION&&h.fromBufferAttribute(c.TRANSLATION,C),c.ROTATION&&m.fromBufferAttribute(c.ROTATION,C),c.SCALE&&v.fromBufferAttribute(c.SCALE,C),E.setMatrixAt(C,B.compose(h,m,v));for(const C in c)if(C==="_COLOR_0"){const M=c[C];E.instanceColor=new Fr(M.array,M.itemSize,M.normalized)}else C!=="TRANSLATION"&&C!=="ROTATION"&&C!=="SCALE"&&d.geometry.setAttribute(C,c[C]);Fs.prototype.copy.call(E,d),this.parser.assignFinalMaterial(E),f.push(E)}return u.isGroup?(u.clear(),u.add(...f),u):f[0]}))}}const Zs="glTF",tt=12,cs={JSON:1313821514,BIN:5130562};class Ha{constructor(e){this.name=y.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,tt);if(this.header={magic:Ht(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==Zs)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-tt,s=new DataView(e,tt);let o=0;for(;o<r;){const i=s.getUint32(o,!0);o+=4;const a=s.getUint32(o,!0);if(o+=4,a===cs.JSON){const c=new Uint8Array(e,tt+o,i);this.content=Ht(c)}else if(a===cs.BIN){const c=tt+o;this.body=e.slice(c,c+i)}o+=i}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Oa{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=y.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,s=this.dracoLoader,o=e.extensions[this.name].bufferView,i=e.extensions[this.name].attributes,a={},c={},l={};for(const u in i){const A=ln[u]||u.toLowerCase();a[A]=i[u]}for(const u in e.attributes){const A=ln[u]||u.toLowerCase();if(i[u]!==void 0){const p=r.accessors[e.attributes[u]],f=Ue[p.componentType];l[A]=f.name,c[A]=p.normalized===!0}}return t.getDependency("bufferView",o).then(function(u){return new Promise(function(A,p){s.decodeDracoFile(u,function(f){for(const d in f.attributes){const B=f.attributes[d],h=c[d];h!==void 0&&(B.normalized=h)}A(f)},a,l,ue,p)})})}}class wa{constructor(){this.name=y.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Sa{constructor(){this.name=y.KHR_MESH_QUANTIZATION}}class Vs extends qr{constructor(e,t,r,s){super(e,t,r,s)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,s=this.valueSize,o=e*s*3+s;for(let i=0;i!==s;i++)t[i]=r[o+i];return t}interpolate_(e,t,r,s){const o=this.resultBuffer,i=this.sampleValues,a=this.valueSize,c=a*2,l=a*3,u=s-t,A=(r-t)/u,p=A*A,f=p*A,d=e*l,B=d-l,h=-2*f+3*p,m=f-p,v=1-h,E=m-p+A;for(let C=0;C!==a;C++){const M=i[B+C+a],R=i[B+C+c]*u,b=i[d+C+a],I=i[d+C]*u;o[C]=v*M+E*R+h*b+m*I}return o}}const La=new Ms;class Ja extends Vs{interpolate_(e,t,r,s){const o=super.interpolate_(e,t,r,s);return La.fromArray(o).normalize().toArray(o),o}}const Y={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Ue={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},ls={9728:xr,9729:Gs,9984:Ir,9985:yr,9986:Dr,9987:bs},us={33071:Or,33648:Hr,10497:$t},Yt={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ln={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...Aa>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Be={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Pa={CUBICSPLINE:void 0,LINEAR:ys,STEP:Wr},Wt={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Na(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new pn({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Vr})),n.DefaultMaterial}function ve(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function le(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Ua(n,e,t){let r=!1,s=!1,o=!1;for(let l=0,u=e.length;l<u;l++){const A=e[l];if(A.POSITION!==void 0&&(r=!0),A.NORMAL!==void 0&&(s=!0),A.COLOR_0!==void 0&&(o=!0),r&&s&&o)break}if(!r&&!s&&!o)return Promise.resolve(n);const i=[],a=[],c=[];for(let l=0,u=e.length;l<u;l++){const A=e[l];if(r){const p=A.POSITION!==void 0?t.getDependency("accessor",A.POSITION):n.attributes.position;i.push(p)}if(s){const p=A.NORMAL!==void 0?t.getDependency("accessor",A.NORMAL):n.attributes.normal;a.push(p)}if(o){const p=A.COLOR_0!==void 0?t.getDependency("accessor",A.COLOR_0):n.attributes.color;c.push(p)}}return Promise.all([Promise.all(i),Promise.all(a),Promise.all(c)]).then(function(l){const u=l[0],A=l[1],p=l[2];return r&&(n.morphAttributes.position=u),s&&(n.morphAttributes.normal=A),o&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function Ka(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,s=t.length;r<s;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function ka(n){let e;const t=n.extensions&&n.extensions[y.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+Zt(t.attributes):e=n.indices+":"+Zt(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,s=n.targets.length;r<s;r++)e+=":"+Zt(n.targets[r]);return e}function Zt(n){let e="";const t=Object.keys(n).sort();for(let r=0,s=t.length;r<s;r++)e+=t[r]+":"+n[t[r]]+";";return e}function un(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function ja(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const _a=new It;class Qa{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new fa,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,s=!1,o=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,s=navigator.userAgent.indexOf("Firefox")>-1,o=s?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||s&&o<98?this.textureLoader=new br(this.options.manager):this.textureLoader=new Gr(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new yt(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,s=this.json,o=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(i){return i._markDefs&&i._markDefs()}),Promise.all(this._invokeAll(function(i){return i.beforeRoot&&i.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(i){const a={scene:i[0][s.scene||0],scenes:i[0],animations:i[1],cameras:i[2],asset:s.asset,parser:r,userData:{}};return ve(o,a,s),le(a,s),Promise.all(r._invokeAll(function(c){return c.afterRoot&&c.afterRoot(a)})).then(function(){for(const c of a.scenes)c.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let s=0,o=t.length;s<o;s++){const i=t[s].joints;for(let a=0,c=i.length;a<c;a++)e[i[a]].isBone=!0}for(let s=0,o=e.length;s<o;s++){const i=e[s];i.mesh!==void 0&&(this._addNodeRef(this.meshCache,i.mesh),i.skin!==void 0&&(r[i.mesh].isSkinnedMesh=!0)),i.camera!==void 0&&this._addNodeRef(this.cameraCache,i.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const s=r.clone(),o=(i,a)=>{const c=this.associations.get(i);c!=null&&this.associations.set(a,c);for(const[l,u]of i.children.entries())o(u,a.children[l])};return o(r,s),s.name+="_instance_"+e.uses[t]++,s}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const s=e(t[r]);if(s)return s}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let s=0;s<t.length;s++){const o=e(t[s]);o&&r.push(o)}return r}getDependency(e,t){const r=e+":"+t;let s=this.cache.get(r);if(!s){switch(e){case"scene":s=this.loadScene(t);break;case"node":s=this._invokeOne(function(o){return o.loadNode&&o.loadNode(t)});break;case"mesh":s=this._invokeOne(function(o){return o.loadMesh&&o.loadMesh(t)});break;case"accessor":s=this.loadAccessor(t);break;case"bufferView":s=this._invokeOne(function(o){return o.loadBufferView&&o.loadBufferView(t)});break;case"buffer":s=this.loadBuffer(t);break;case"material":s=this._invokeOne(function(o){return o.loadMaterial&&o.loadMaterial(t)});break;case"texture":s=this._invokeOne(function(o){return o.loadTexture&&o.loadTexture(t)});break;case"skin":s=this.loadSkin(t);break;case"animation":s=this._invokeOne(function(o){return o.loadAnimation&&o.loadAnimation(t)});break;case"camera":s=this.loadCamera(t);break;default:if(s=this._invokeOne(function(o){return o!=this&&o.getDependency&&o.getDependency(e,t)}),!s)throw new Error("Unknown type: "+e);break}this.cache.add(r,s)}return s}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,s=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(s.map(function(o,i){return r.getDependency(e,i)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[y.KHR_BINARY_GLTF].body);const s=this.options;return new Promise(function(o,i){r.load(ot.resolveURL(t.uri,s.path),o,void 0,function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const s=t.byteLength||0,o=t.byteOffset||0;return r.slice(o,o+s)})}loadAccessor(e){const t=this,r=this.json,s=this.json.accessors[e];if(s.bufferView===void 0&&s.sparse===void 0){const i=Yt[s.type],a=Ue[s.componentType],c=s.normalized===!0,l=new a(s.count*i);return Promise.resolve(new it(l,i,c))}const o=[];return s.bufferView!==void 0?o.push(this.getDependency("bufferView",s.bufferView)):o.push(null),s.sparse!==void 0&&(o.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(o).then(function(i){const a=i[0],c=Yt[s.type],l=Ue[s.componentType],u=l.BYTES_PER_ELEMENT,A=u*c,p=s.byteOffset||0,f=s.bufferView!==void 0?r.bufferViews[s.bufferView].byteStride:void 0,d=s.normalized===!0;let B,h;if(f&&f!==A){const m=Math.floor(p/f),v="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+m+":"+s.count;let E=t.cache.get(v);E||(B=new l(a,m*f,s.count*f/u),E=new Tr(B,f/u),t.cache.add(v,E)),h=new Zr(E,c,p%f/u,d)}else a===null?B=new l(s.count*c):B=new l(a,p,s.count*c),h=new it(B,c,d);if(s.sparse!==void 0){const m=Yt.SCALAR,v=Ue[s.sparse.indices.componentType],E=s.sparse.indices.byteOffset||0,C=s.sparse.values.byteOffset||0,M=new v(i[1],E,s.sparse.count*m),R=new l(i[2],C,s.sparse.count*c);a!==null&&(h=new it(h.array.slice(),h.itemSize,h.normalized));for(let b=0,I=M.length;b<I;b++){const D=M[b];if(h.setX(D,R[b*c]),c>=2&&h.setY(D,R[b*c+1]),c>=3&&h.setZ(D,R[b*c+2]),c>=4&&h.setW(D,R[b*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return h})}loadTexture(e){const t=this.json,r=this.options,o=t.textures[e].source,i=t.images[o];let a=this.textureLoader;if(i.uri){const c=r.manager.getHandler(i.uri);c!==null&&(a=c)}return this.loadTextureImage(e,o,a)}loadTextureImage(e,t,r){const s=this,o=this.json,i=o.textures[e],a=o.images[t],c=(a.uri||a.bufferView)+":"+i.sampler;if(this.textureCache[c])return this.textureCache[c];const l=this.loadImageSource(t,r).then(function(u){u.flipY=!1,u.name=i.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const p=(o.samplers||{})[i.sampler]||{};return u.magFilter=ls[p.magFilter]||Gs,u.minFilter=ls[p.minFilter]||bs,u.wrapS=us[p.wrapS]||$t,u.wrapT=us[p.wrapT]||$t,s.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[c]=l,l}loadImageSource(e,t){const r=this,s=this.json,o=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(A=>A.clone());const i=s.images[e],a=self.URL||self.webkitURL;let c=i.uri||"",l=!1;if(i.bufferView!==void 0)c=r.getDependency("bufferView",i.bufferView).then(function(A){l=!0;const p=new Blob([A],{type:i.mimeType});return c=a.createObjectURL(p),c});else if(i.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(c).then(function(A){return new Promise(function(p,f){let d=p;t.isImageBitmapLoader===!0&&(d=function(B){const h=new Dn(B);h.needsUpdate=!0,p(h)}),t.load(ot.resolveURL(A,o.path),d,void 0,f)})}).then(function(A){return l===!0&&a.revokeObjectURL(c),le(A,i),A.userData.mimeType=i.mimeType||ja(i.uri),A}).catch(function(A){throw console.error("THREE.GLTFLoader: Couldn't load texture",c),A});return this.sourceCache[e]=u,u}assignTexture(e,t,r,s){const o=this;return this.getDependency("texture",r.index).then(function(i){if(!i)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(i=i.clone(),i.channel=r.texCoord),o.extensions[y.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[y.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const c=o.associations.get(i);i=o.extensions[y.KHR_TEXTURE_TRANSFORM].extendTexture(i,a),o.associations.set(i,c)}}return s!==void 0&&(typeof s=="number"&&(s=s===as?Fe:ue),"colorSpace"in i?i.colorSpace=s:i.encoding=s===Fe?as:pa),e[t]=i,i})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const s=t.attributes.tangent===void 0,o=t.attributes.color!==void 0,i=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let c=this.cache.get(a);c||(c=new wr,Ut.prototype.copy.call(c,r),c.color.copy(r.color),c.map=r.map,c.sizeAttenuation=!1,this.cache.add(a,c)),r=c}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let c=this.cache.get(a);c||(c=new Sr,Ut.prototype.copy.call(c,r),c.color.copy(r.color),c.map=r.map,this.cache.add(a,c)),r=c}if(s||o||i){let a="ClonedMaterial:"+r.uuid+":";s&&(a+="derivative-tangents:"),o&&(a+="vertex-colors:"),i&&(a+="flat-shading:");let c=this.cache.get(a);c||(c=r.clone(),o&&(c.vertexColors=!0),i&&(c.flatShading=!0),s&&(c.normalScale&&(c.normalScale.y*=-1),c.clearcoatNormalScale&&(c.clearcoatNormalScale.y*=-1)),this.cache.add(a,c),this.associations.set(c,this.associations.get(r))),r=c}e.material=r}getMaterialType(){return pn}loadMaterial(e){const t=this,r=this.json,s=this.extensions,o=r.materials[e];let i;const a={},c=o.extensions||{},l=[];if(c[y.KHR_MATERIALS_UNLIT]){const A=s[y.KHR_MATERIALS_UNLIT];i=A.getMaterialType(),l.push(A.extendParams(a,o,t))}else{const A=o.pbrMetallicRoughness||{};if(a.color=new Ge(1,1,1),a.opacity=1,Array.isArray(A.baseColorFactor)){const p=A.baseColorFactor;a.color.setRGB(p[0],p[1],p[2],ue),a.opacity=p[3]}A.baseColorTexture!==void 0&&l.push(t.assignTexture(a,"map",A.baseColorTexture,Fe)),a.metalness=A.metallicFactor!==void 0?A.metallicFactor:1,a.roughness=A.roughnessFactor!==void 0?A.roughnessFactor:1,A.metallicRoughnessTexture!==void 0&&(l.push(t.assignTexture(a,"metalnessMap",A.metallicRoughnessTexture)),l.push(t.assignTexture(a,"roughnessMap",A.metallicRoughnessTexture))),i=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),l.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}o.doubleSided===!0&&(a.side=Lr);const u=o.alphaMode||Wt.OPAQUE;if(u===Wt.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===Wt.MASK&&(a.alphaTest=o.alphaCutoff!==void 0?o.alphaCutoff:.5)),o.normalTexture!==void 0&&i!==nt&&(l.push(t.assignTexture(a,"normalMap",o.normalTexture)),a.normalScale=new Rs(1,1),o.normalTexture.scale!==void 0)){const A=o.normalTexture.scale;a.normalScale.set(A,A)}if(o.occlusionTexture!==void 0&&i!==nt&&(l.push(t.assignTexture(a,"aoMap",o.occlusionTexture)),o.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=o.occlusionTexture.strength)),o.emissiveFactor!==void 0&&i!==nt){const A=o.emissiveFactor;a.emissive=new Ge().setRGB(A[0],A[1],A[2],ue)}return o.emissiveTexture!==void 0&&i!==nt&&l.push(t.assignTexture(a,"emissiveMap",o.emissiveTexture,Fe)),Promise.all(l).then(function(){const A=new i(a);return o.name&&(A.name=o.name),le(A,o),t.associations.set(A,{materials:e}),o.extensions&&ve(s,A,o),A})}createUniqueName(e){const t=Jr.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,s=this.primitiveCache;function o(a){return r[y.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(c){return As(c,a,t)})}const i=[];for(let a=0,c=e.length;a<c;a++){const l=e[a],u=ka(l),A=s[u];if(A)i.push(A.promise);else{let p;l.extensions&&l.extensions[y.KHR_DRACO_MESH_COMPRESSION]?p=o(l):p=As(new Ts,l,t),s[u]={primitive:l,promise:p},i.push(p)}}return Promise.all(i)}loadMesh(e){const t=this,r=this.json,s=this.extensions,o=r.meshes[e],i=o.primitives,a=[];for(let c=0,l=i.length;c<l;c++){const u=i[c].material===void 0?Na(this.cache):this.getDependency("material",i[c].material);a.push(u)}return a.push(t.loadGeometries(i)),Promise.all(a).then(function(c){const l=c.slice(0,c.length-1),u=c[c.length-1],A=[];for(let f=0,d=u.length;f<d;f++){const B=u[f],h=i[f];let m;const v=l[f];if(h.mode===Y.TRIANGLES||h.mode===Y.TRIANGLE_STRIP||h.mode===Y.TRIANGLE_FAN||h.mode===void 0)m=o.isSkinnedMesh===!0?new Pr(B,v):new Ds(B,v),m.isSkinnedMesh===!0&&m.normalizeSkinWeights(),h.mode===Y.TRIANGLE_STRIP?m.geometry=is(m.geometry,Es):h.mode===Y.TRIANGLE_FAN&&(m.geometry=is(m.geometry,zt));else if(h.mode===Y.LINES)m=new Nr(B,v);else if(h.mode===Y.LINE_STRIP)m=new Ur(B,v);else if(h.mode===Y.LINE_LOOP)m=new Kr(B,v);else if(h.mode===Y.POINTS)m=new kr(B,v);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+h.mode);Object.keys(m.geometry.morphAttributes).length>0&&Ka(m,o),m.name=t.createUniqueName(o.name||"mesh_"+e),le(m,o),h.extensions&&ve(s,m,h),t.assignFinalMaterial(m),A.push(m)}for(let f=0,d=A.length;f<d;f++)t.associations.set(A[f],{meshes:e,primitives:f});if(A.length===1)return o.extensions&&ve(s,A[0],o),A[0];const p=new Kt;o.extensions&&ve(s,p,o),t.associations.set(p,{meshes:e});for(let f=0,d=A.length;f<d;f++)p.add(A[f]);return p})}loadCamera(e){let t;const r=this.json.cameras[e],s=r[r.type];if(!s){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new jr(fn.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):r.type==="orthographic"&&(t=new _r(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),le(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let s=0,o=t.joints.length;s<o;s++)r.push(this._loadNodeShallow(t.joints[s]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(s){const o=s.pop(),i=s,a=[],c=[];for(let l=0,u=i.length;l<u;l++){const A=i[l];if(A){a.push(A);const p=new It;o!==null&&p.fromArray(o.array,l*16),c.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[l])}return new Qr(a,c)})}loadAnimation(e){const t=this.json,r=this,s=t.animations[e],o=s.name?s.name:"animation_"+e,i=[],a=[],c=[],l=[],u=[];for(let A=0,p=s.channels.length;A<p;A++){const f=s.channels[A],d=s.samplers[f.sampler],B=f.target,h=B.node,m=s.parameters!==void 0?s.parameters[d.input]:d.input,v=s.parameters!==void 0?s.parameters[d.output]:d.output;B.node!==void 0&&(i.push(this.getDependency("node",h)),a.push(this.getDependency("accessor",m)),c.push(this.getDependency("accessor",v)),l.push(d),u.push(B))}return Promise.all([Promise.all(i),Promise.all(a),Promise.all(c),Promise.all(l),Promise.all(u)]).then(function(A){const p=A[0],f=A[1],d=A[2],B=A[3],h=A[4],m=[];for(let v=0,E=p.length;v<E;v++){const C=p[v],M=f[v],R=d[v],b=B[v],I=h[v];if(C===void 0)continue;C.updateMatrix&&C.updateMatrix();const D=r._createAnimationTracks(C,M,R,b,I);if(D)for(let G=0;G<D.length;G++)m.push(D[G])}return new Xr(o,void 0,m)})}createNodeMesh(e){const t=this.json,r=this,s=t.nodes[e];return s.mesh===void 0?null:r.getDependency("mesh",s.mesh).then(function(o){const i=r._getNodeRef(r.meshCache,s.mesh,o);return s.weights!==void 0&&i.traverse(function(a){if(a.isMesh)for(let c=0,l=s.weights.length;c<l;c++)a.morphTargetInfluences[c]=s.weights[c]}),i})}loadNode(e){const t=this.json,r=this,s=t.nodes[e],o=r._loadNodeShallow(e),i=[],a=s.children||[];for(let l=0,u=a.length;l<u;l++)i.push(r.getDependency("node",a[l]));const c=s.skin===void 0?Promise.resolve(null):r.getDependency("skin",s.skin);return Promise.all([o,Promise.all(i),c]).then(function(l){const u=l[0],A=l[1],p=l[2];p!==null&&u.traverse(function(f){f.isSkinnedMesh&&f.bind(p,_a)});for(let f=0,d=A.length;f<d;f++)u.add(A[f]);return u})}_loadNodeShallow(e){const t=this.json,r=this.extensions,s=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const o=t.nodes[e],i=o.name?s.createUniqueName(o.name):"",a=[],c=s._invokeOne(function(l){return l.createNodeMesh&&l.createNodeMesh(e)});return c&&a.push(c),o.camera!==void 0&&a.push(s.getDependency("camera",o.camera).then(function(l){return s._getNodeRef(s.cameraCache,o.camera,l)})),s._invokeAll(function(l){return l.createNodeAttachment&&l.createNodeAttachment(e)}).forEach(function(l){a.push(l)}),this.nodeCache[e]=Promise.all(a).then(function(l){let u;if(o.isBone===!0?u=new Yr:l.length>1?u=new Kt:l.length===1?u=l[0]:u=new Fs,u!==l[0])for(let A=0,p=l.length;A<p;A++)u.add(l[A]);if(o.name&&(u.userData.name=o.name,u.name=i),le(u,o),o.extensions&&ve(r,u,o),o.matrix!==void 0){const A=new It;A.fromArray(o.matrix),u.applyMatrix4(A)}else o.translation!==void 0&&u.position.fromArray(o.translation),o.rotation!==void 0&&u.quaternion.fromArray(o.rotation),o.scale!==void 0&&u.scale.fromArray(o.scale);return s.associations.has(u)||s.associations.set(u,{}),s.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],s=this,o=new Kt;r.name&&(o.name=s.createUniqueName(r.name)),le(o,r),r.extensions&&ve(t,o,r);const i=r.nodes||[],a=[];for(let c=0,l=i.length;c<l;c++)a.push(s.getDependency("node",i[c]));return Promise.all(a).then(function(c){for(let u=0,A=c.length;u<A;u++)o.add(c[u]);const l=u=>{const A=new Map;for(const[p,f]of s.associations)(p instanceof Ut||p instanceof Dn)&&A.set(p,f);return u.traverse(p=>{const f=s.associations.get(p);f!=null&&A.set(p,f)}),A};return s.associations=l(o),o})}_createAnimationTracks(e,t,r,s,o){const i=[],a=e.name?e.name:e.uuid,c=[];Be[o.path]===Be.weights?e.traverse(function(p){p.morphTargetInfluences&&c.push(p.name?p.name:p.uuid)}):c.push(a);let l;switch(Be[o.path]){case Be.weights:l=In;break;case Be.rotation:l=xn;break;case Be.position:case Be.scale:l=yn;break;default:switch(r.itemSize){case 1:l=In;break;case 2:case 3:default:l=yn;break}break}const u=s.interpolation!==void 0?Pa[s.interpolation]:ys,A=this._getArrayFromAccessor(r);for(let p=0,f=c.length;p<f;p++){const d=new l(c[p]+"."+Be[o.path],t.array,A,u);s.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(d),i.push(d)}return i}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const r=un(t.constructor),s=new Float32Array(t.length);for(let o=0,i=t.length;o<i;o++)s[o]=t[o]*r;t=s}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const s=this instanceof xn?Ja:Vs;return new s(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Xa(n,e,t){const r=e.attributes,s=new zr;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],c=a.min,l=a.max;if(c!==void 0&&l!==void 0){if(s.set(new re(c[0],c[1],c[2]),new re(l[0],l[1],l[2])),a.normalized){const u=un(Ue[a.componentType]);s.min.multiplyScalar(u),s.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const o=e.targets;if(o!==void 0){const a=new re,c=new re;for(let l=0,u=o.length;l<u;l++){const A=o[l];if(A.POSITION!==void 0){const p=t.json.accessors[A.POSITION],f=p.min,d=p.max;if(f!==void 0&&d!==void 0){if(c.setX(Math.max(Math.abs(f[0]),Math.abs(d[0]))),c.setY(Math.max(Math.abs(f[1]),Math.abs(d[1]))),c.setZ(Math.max(Math.abs(f[2]),Math.abs(d[2]))),p.normalized){const B=un(Ue[p.componentType]);c.multiplyScalar(B)}a.max(c)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(a)}n.boundingBox=s;const i=new $r;s.getCenter(i.center),i.radius=s.min.distanceTo(s.max)/2,n.boundingSphere=i}function As(n,e,t){const r=e.attributes,s=[];function o(i,a){return t.getDependency("accessor",i).then(function(c){n.setAttribute(a,c)})}for(const i in r){const a=ln[i]||i.toLowerCase();a in n.attributes||s.push(o(r[i],a))}if(e.indices!==void 0&&!n.index){const i=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});s.push(i)}return le(n,e),Xa(n,e,t),Promise.all(s).then(function(){return e.targets!==void 0?Ua(n,e.targets,t):n})}const Vt=new WeakMap;class Ya extends vs{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,s){const o=new yt(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,i=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(i,a).then(t).catch(s)},r,s)}decodeDracoFile(e,t,r,s){const o={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:s||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,o).then(t)}decodeGeometry(e,t){for(const c in t.attributeTypes){const l=t.attributeTypes[c];l.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[c]=l.name)}const r=JSON.stringify(t);if(Vt.has(e)){const c=Vt.get(e);if(c.key===r)return c.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let s;const o=this.workerNextTaskID++,i=e.byteLength,a=this._getWorker(o,i).then(c=>(s=c,new Promise((l,u)=>{s._callbacks[o]={resolve:l,reject:u},s.postMessage({type:"decode",id:o,taskConfig:t,buffer:e},[e])}))).then(c=>this._createGeometry(c.geometry));return a.catch(()=>!0).then(()=>{s&&o&&this._releaseTask(s,o)}),Vt.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new Ts;e.index&&t.setIndex(new it(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const s=e.attributes[r],o=s.name,i=s.array,a=s.itemSize;t.setAttribute(o,new it(i,a))}return t}_loadLibrary(e,t){const r=new yt(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((s,o)=>{r.load(e,s,void 0,o)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const s=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const o=Wa.toString(),i=["/* draco decoder */",s,"","/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([i]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const s=new Worker(this.workerSourceURL);s._callbacks={},s._taskCosts={},s._taskLoad=0,s.postMessage({type:"init",decoderConfig:this.decoderConfig}),s.onmessage=function(o){const i=o.data;switch(i.type){case"decode":s._callbacks[i.id].resolve(i);break;case"error":s._callbacks[i.id].reject(i);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+i.type+'"')}},this.workerPool.push(s)}else this.workerPool.sort(function(s,o){return s._taskLoad>o._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Wa(){let n,e;onmessage=function(i){const a=i.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(A){u({draco:A})},DracoDecoderModule(n)});break;case"decode":const c=a.buffer,l=a.taskConfig;e.then(u=>{const A=u.draco,p=new A.Decoder,f=new A.DecoderBuffer;f.Init(new Int8Array(c),c.byteLength);try{const d=t(A,p,f,l),B=d.attributes.map(h=>h.array.buffer);d.index&&B.push(d.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:d},B)}catch(d){console.error(d),self.postMessage({type:"error",id:a.id,error:d.message})}finally{A.destroy(f),A.destroy(p)}});break}};function t(i,a,c,l){const u=l.attributeIDs,A=l.attributeTypes;let p,f;const d=a.GetEncodedGeometryType(c);if(d===i.TRIANGULAR_MESH)p=new i.Mesh,f=a.DecodeBufferToMesh(c,p);else if(d===i.POINT_CLOUD)p=new i.PointCloud,f=a.DecodeBufferToPointCloud(c,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!f.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+f.error_msg());const B={index:null,attributes:[]};for(const h in u){const m=self[A[h]];let v,E;if(l.useUniqueIDs)E=u[h],v=a.GetAttributeByUniqueId(p,E);else{if(E=a.GetAttributeId(p,i[u[h]]),E===-1)continue;v=a.GetAttribute(p,E)}B.attributes.push(s(i,a,p,h,m,v))}return d===i.TRIANGULAR_MESH&&(B.index=r(i,a,p)),i.destroy(p),B}function r(i,a,c){const u=c.num_faces()*3,A=u*4,p=i._malloc(A);a.GetTrianglesUInt32Array(c,A,p);const f=new Uint32Array(i.HEAPF32.buffer,p,u).slice();return i._free(p),{array:f,itemSize:1}}function s(i,a,c,l,u,A){const p=A.num_components(),d=c.num_points()*p,B=d*u.BYTES_PER_ELEMENT,h=o(i,u),m=i._malloc(B);a.GetAttributeDataArrayForAllPoints(c,A,h,B,m);const v=new u(i.HEAPF32.buffer,m,d).slice();return i._free(m),{name:l,array:v,itemSize:p}}function o(i,a){switch(a){case Float32Array:return i.DT_FLOAT32;case Int8Array:return i.DT_INT8;case Int16Array:return i.DT_INT16;case Int32Array:return i.DT_INT32;case Uint8Array:return i.DT_UINT8;case Uint16Array:return i.DT_UINT16;case Uint32Array:return i.DT_UINT32}}}let bt;const qt=()=>{if(bt)return bt;const n="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",e="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",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let s=n;WebAssembly.validate(t)&&(s=e);let o;const i=WebAssembly.instantiate(a(s),{}).then(A=>{o=A.instance,o.exports.__wasm_call_ctors()});function a(A){const p=new Uint8Array(A.length);for(let d=0;d<A.length;++d){const B=A.charCodeAt(d);p[d]=B>96?B-71:B>64?B-65:B>47?B+4:B>46?63:62}let f=0;for(let d=0;d<A.length;++d)p[f++]=p[d]<60?r[p[d]]:(p[d]-60)*64+p[++d];return p.buffer.slice(0,f)}function c(A,p,f,d,B,h){const m=o.exports.sbrk,v=f+3&-4,E=m(v*d),C=m(B.length),M=new Uint8Array(o.exports.memory.buffer);M.set(B,C);const R=A(E,f,d,C,B.length);if(R===0&&h&&h(E,v,d),p.set(M.subarray(E,E+f*d)),m(E-m(0)),R!==0)throw new Error(`Malformed buffer data: ${R}`)}const l={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return bt={ready:i,supported:!0,decodeVertexBuffer(A,p,f,d,B){c(o.exports.meshopt_decodeVertexBuffer,A,p,f,d,o.exports[l[B]])},decodeIndexBuffer(A,p,f,d){c(o.exports.meshopt_decodeIndexBuffer,A,p,f,d)},decodeIndexSequence(A,p,f,d){c(o.exports.meshopt_decodeIndexSequence,A,p,f,d)},decodeGltfBuffer(A,p,f,d,B,h){c(o.exports[u[B]],A,p,f,d,o.exports[l[h]])}},bt};let Gt=null,qs="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function zs(n=!0,e=!0,t){return r=>{t&&t(r),n&&(Gt||(Gt=new Ya),Gt.setDecoderPath(typeof n=="string"?n:qs),r.setDRACOLoader(Gt)),e&&r.setMeshoptDecoder(typeof qt=="function"?qt():qt)}}const Lt=(n,e,t,r)=>dn(Gn,n,zs(e,t,r));Lt.preload=(n,e,t,r)=>dn.preload(Gn,n,zs(e,t,r));Lt.clear=n=>dn.clear(Gn,n);Lt.setDecoderPath=n=>{qs=n};const ps=({text:n,hovered:e,position:t,animate:r,color:s,name:o,textAlign:i="left"})=>{const a=F.useRef(null),c={fontSize:.015,font:"/fonts/Roboto-MediumItalic.ttf",textAlign:i},l=Qe(u=>u.activeMesh);return Bn(()=>{r&&a.current&&(a.current.position.y=fn.lerp(a.current.position.y,l===o||e?.05:0,.08))}),g.jsx(eo,{ref:a,position:t,"material-toneMapped":!1,color:s,...c,children:r?(l===o||e)&&n:n})},Za=({name:n,color:e,position:t,geometry:r,provinceData:s})=>{const o=F.useRef(null),[i,a]=F.useState(!1),c=Qe(p=>p.setCameraPosition),l=Qe(p=>p.activeMesh),{activeFilter:u}=Hs();to(i),Bn(()=>{o.current&&(o.current.position.y=fn.lerp(o.current.position.y,i||l===n?.02:0,.05))});const A=u?u.color===e?e:"#808080":e;return g.jsxs("group",{ref:o,name:n||void 0,onClick:()=>{c({activeMesh:n})},onPointerOver:()=>a(!0),onPointerOut:()=>a(!1),position:t,children:[g.jsx(ps,{name:n||"",animate:!1,position:new re(0,.01,.01),text:Cn(n),hovered:i,color:"#ffffff"}),g.jsx(ps,{name:n||"",color:"#111",animate:!0,position:new re(0,.01,-.05),text:`Infected: ${s.casesInfected}
				Deaths: ${s.casesDeaths}
				Recovered: +${s.casesRecovered}`,hovered:i,textAlign:"left"}),g.jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:r,material:new pn({color:A,roughness:.8,metalness:0,flatShading:!0})})]})},Va=()=>{const n=Qe(r=>r.activeMesh),[e,t]=F.useState("");return Bn(({camera:r,scene:s})=>{var i,a,c;const o=new re;if(e!==n&&n){(i=s.getObjectByName(n))==null||i.getWorldPosition(o);const l={x:o.x,y:o.y+3,z:o.z+7};r.position.lerp(l,.05),(a=s.orbitControls)==null||a.target.lerp(o,.05),(c=s.orbitControls)==null||c.update(),r.position.clone().sub(l).length()<1&&t(n)}}),null},qa=()=>g.jsxs(g.Fragment,{children:[g.jsx("ambientLight",{intensity:.5}),g.jsx("directionalLight",{position:[5,5,5],intensity:6,castShadow:!0,"shadow-mapSize":[2048,2048],"shadow-camera-near":.5,"shadow-camera-far":50,"shadow-camera-left":-10,"shadow-camera-right":10,"shadow-camera-top":10,"shadow-camera-bottom":-10,"shadow-bias":-1e-4})]}),za=n=>{const e=F.useRef(null),{scene:t}=Lt("/models/map.gltf"),r=()=>{const s=[];return t.traverse(o=>{if(o instanceof Ds){const i=ro(o.name,lt),a=oo(i,lt),c=io(a);a&&s.push(g.jsx(Za,{position:o.position,name:o.name,geometry:o.geometry,color:c,provinceData:a},o.name))}}),s};return g.jsxs(g.Fragment,{children:[g.jsx(no,{attach:"orbitControls"}),g.jsx(qa,{}),g.jsx(Va,{}),g.jsx("group",{ref:e,...n,dispose:null,position:[0,0,1],scale:10,children:g.jsx(r,{})})]})},nc=()=>{const n=en({data:lt,pageSize:10,ascending:!1}),e=en({data:lt,pageSize:10,ascending:!0});return g.jsx(g.Fragment,{children:g.jsxs("div",{className:"w-screen h-screen relative",children:[g.jsx(so,{dpr:[1,1.5],shadows:!0,camera:{position:[0,59,36],fov:45},className:"w-full h-full",children:g.jsx(za,{})}),g.jsx("div",{className:"absolute left-5 top-5 z-[1000]","data-aos":"fade-right","data-aos-easing":"ease-out-back","data-aos-duration":"1000",children:g.jsx(ua,{})}),g.jsx("div",{className:"absolute left-1/2 translate-x-[-50%] top-5 z-[1000]",children:g.jsx(la,{})}),g.jsx("div",{className:"absolute right-5 top-1/2 translate-y-[-50%] z-[1000] uppercase",children:g.jsxs("div",{"data-aos":"fade-left","data-aos-easing":"ease-out-back","data-aos-duration":"1000",children:[g.jsx(os,{data:n,title:"with Most Cases",type:"most"}),g.jsx(os,{data:e,title:"with Least Cases",type:"least"})]})})]})})};export{nc as default};
